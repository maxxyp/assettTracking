{"version":3,"sources":["hema/business/factories/landlordFactory.ts"],"names":[],"mappings":"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","file":"landlordFactory.js","sourcesContent":["import { inject } from \"aurelia-dependency-injection\";\n\nimport { Job } from \"../../business/models/job\";\nimport { Engineer } from \"../../business/models/engineer\";\n\nimport { ILandlordFactory } from \"./interfaces/ILandlordFactory\";\n\nimport { LandlordSafetyCertificate as LandlordSafetyCertificateBusinessModel } from \"../../business/models/landlord/landlordSafetyCertificate\";\nimport { LandlordSafetyCertificateAppliance as LandlordSafetyCertificateApplianceBusinessModel } from \"../../business/models/landlord/landlordSafetyCertificateAppliance\";\nimport { LandlordSafetyCertificateDefect as LandlordSafetyCertificateDefectBusinessModel } from \"../../business/models/landlord/landlordSafetyCertificateDefect\";\nimport { LandlordSafetyCertificateResult as LandlordSafetyCertificateResultBusinessModel } from \"../../business/models/landlord/landlordSafetyCertificateResult\";\nimport { Appliance } from \"../../business/models/appliance\";\nimport { QueryableBusinessRuleGroup } from \"../models/businessRules/queryableBusinessRuleGroup\";\nimport { YesNoNa } from \"../models/yesNoNa\";\nimport { OperatingValueUnits } from \"../models/landlord/operatingValueUnits\";\nimport { PropertySafety } from \"../models/propertySafety\";\nimport { ICatalogService } from \"../services/interfaces/ICatalogService\";\nimport { CatalogService } from \"../services/catalogService\";\nimport { BusinessException } from \"../models/businessException\";\nimport { ISafetyAction } from \"../models/reference/ISafetyAction\";\nimport { ApplianceSafetyType } from \"../models/applianceSafetyType\";\n\n@inject(CatalogService)\nexport class LandlordFactory implements ILandlordFactory {\n    private _catalogService: ICatalogService;\n\n    public constructor(catalogService: ICatalogService) {\n        this._catalogService = catalogService;\n    }\n\n    public createLandlordSafetyCertificate(\n        job: Job,\n        engineer: Engineer,\n        businessRules: QueryableBusinessRuleGroup,\n        appliances: Appliance[]\n    ): Promise<LandlordSafetyCertificateBusinessModel> {\n\n        return this._catalogService.getSafetyActions().then((actions) => {\n            let model = new LandlordSafetyCertificateBusinessModel();\n\n            let applianceBusinessModelPromises: Promise<LandlordSafetyCertificateApplianceBusinessModel>[] = [];\n\n            model.jobNumber = job.id;\n            model.date = new Date();\n\n            if (engineer) {\n                model.engineerName = engineer.firstName + \" \" + engineer.lastName;\n                model.engineerId = engineer.id;\n            }\n\n            if (job.customerContact) {\n                model.landlordAddress = [];\n\n                model.landlordName = job.customerContact.title + \" \" + job.customerContact.firstName + \" \" + job.customerContact.lastName;\n\n                if (job.customerContact.address) {\n                    if (job.customerContact.address.premisesName) {\n                        model.landlordAddress.push(job.customerContact.address.premisesName);\n                    }\n\n                    if (job.customerContact.address.line && job.customerContact.address.line.length > 0) {\n                        if (job.customerContact.address.houseNumber) {\n                            model.landlordAddress.push(job.customerContact.address.houseNumber + \" \" + job.customerContact.address.line[0]);\n                        } else {\n                            model.landlordAddress.push(job.customerContact.address.line[0]);\n                        }\n                    } else if (job.customerContact.address.houseNumber) {\n                        model.landlordAddress.push(job.customerContact.address.houseNumber);\n                    }\n\n                    if (job.customerContact.address.line && job.customerContact.address.line.length > 1) {\n                        model.landlordAddress.push(job.customerContact.address.line[1]);\n                    }\n\n                    if (job.customerContact.address.town) {\n                        model.landlordAddress.push(job.customerContact.address.town);\n                    } else if (job.customerContact.address.county) {\n                        model.landlordAddress.push(job.customerContact.address.county);\n                    }\n\n                    model.landlordAddress.push(job.customerContact.address.postCodeOut + \" \" + job.customerContact.address.postCodeIn);\n                }\n            }\n\n            model.propertyAddress = [];\n\n            if (job.premises && job.premises.address) {\n                if (job.premises.address.premisesName) {\n                    model.propertyAddress.push(job.premises.address.premisesName);\n                }\n\n                if (job.premises.address.line && job.premises.address.line.length > 0) {\n                    if (job.premises.address.line.length > 0) {\n                        if (job.premises.address.houseNumber) {\n                            model.propertyAddress.push(job.premises.address.houseNumber + \" \" + job.premises.address.line[0]);\n                        } else {\n                            model.propertyAddress.push(job.premises.address.line[0]);\n                        }\n                    }\n\n                    if (job.premises.address.line.length > 1) {\n                        model.propertyAddress.push(job.premises.address.line[1]);\n                    }\n                } else if (job.premises.address.houseNumber) {\n                    model.propertyAddress.push(job.premises.address.houseNumber);\n                }\n\n                if (job.premises.address.town) {\n                    model.propertyAddress.push(job.premises.address.town);\n                } else if (job.premises.address.county) {\n                    model.propertyAddress.push(job.premises.address.county);\n                }\n\n                model.propertyAddress.push(job.premises.address.postCodeOut + \" \" + job.premises.address.postCodeIn);\n\n            } else if (job.customerAddress) {\n                if (job.customerAddress.premisesName) {\n                    model.propertyAddress.push(job.customerAddress.premisesName);\n                }\n\n                if (job.customerAddress.line && job.customerAddress.line.length > 0) {\n                    if (job.customerAddress.line.length > 0) {\n                        if (job.customerAddress.houseNumber) {\n                            model.propertyAddress.push(job.customerAddress.houseNumber + \" \" + job.customerAddress.line[0]);\n                        } else {\n                            model.propertyAddress.push(job.customerAddress.line[0]);\n                        }\n                    }\n\n                    if (job.customerAddress.line.length > 1) {\n                        model.propertyAddress.push(job.customerAddress.line[1]);\n                    }\n                } else if (job.premises.address.houseNumber) {\n                    model.propertyAddress.push(job.customerAddress.houseNumber);\n                }\n\n                if (job.customerAddress.town) {\n                    model.propertyAddress.push(job.customerAddress.town);\n                } else if (job.customerAddress.county) {\n                    model.propertyAddress.push(job.customerAddress.county);\n                }\n\n                model.propertyAddress.push(job.customerAddress.postCodeOut + \" \" + job.customerAddress.postCodeIn);\n            }\n\n            model.appliances = [];\n            model.defects = [];\n\n            appliances.forEach(appliance => {\n                if (appliance) {\n                    applianceBusinessModelPromises.push(this.createLandlordSafetyCertificateAppliance(appliance, businessRules));\n                    model.defects.push(this.createLandlordSafetyCertificateDefect(appliance, businessRules, actions));\n                }\n            });\n\n            return Promise.all(applianceBusinessModelPromises)\n                .then((certificateAappliances) => {\n                    certificateAappliances.forEach((certificateAappliance) => {\n                        model.appliances.push(certificateAappliance);\n                    });\n                })\n                .then(() => {\n                    model.applianceCount = model.appliances.length;\n                    model.certificateResult = this.createLandlordSafetyCertificateResult(job.propertySafety, businessRules, actions);\n                    return model;\n                });\n        });\n\n    }\n\n    public createLandlordSafetyCertificateAppliance(appliance: Appliance, businessRules: QueryableBusinessRuleGroup)\n        : Promise<LandlordSafetyCertificateApplianceBusinessModel> {\n        if (appliance.applianceSafetyType && appliance.applianceSafetyType === ApplianceSafetyType.gas) {\n            let model: LandlordSafetyCertificateApplianceBusinessModel = new LandlordSafetyCertificateApplianceBusinessModel();\n            model.id = appliance.id;\n\n            let safetyDeviceYesValueBusinessRule = businessRules.getBusinessRule<number>(\"safetyDeviceYesValue\");\n            let safetyDeviceNoValueBusinessRule = businessRules.getBusinessRule<number>(\"safetyDeviceNoValue\");\n            let flueLessApplianceTypeBusinessRule = businessRules.getBusinessRule<string>(\"flueLessApplianceType\");\n            let roomSealedFlueApplianceTypeBusinessRule = businessRules.getBusinessRule<string>(\"roomSealedFlueApplianceType\");\n\n            return this._catalogService.getObjectType(appliance.applianceType)\n                .then(catalogItem => {\n                    if (catalogItem) {\n\n                        model.location = appliance.locationDescription ? appliance.locationDescription : undefined;\n                        model.type = appliance.applianceType ? appliance.applianceType : undefined;\n                        model.flueType = appliance.flueType ? appliance.flueType : undefined;\n\n                        if (appliance.safety) {\n\n                            if (appliance.safety.applianceGasSafety) {\n                                model.applianceSafe = appliance.safety.applianceGasSafety.isApplianceSafe;\n                            } else {\n                                model.applianceSafe = undefined;\n                            }\n\n                            let isGasAppliance = appliance.applianceSafetyType === ApplianceSafetyType.gas;\n                            // do the other fields\n                            if ((model.flueType || (!model.flueType && !isGasAppliance)) && (appliance.safety.applianceGasReadingsMaster\n                                && appliance.safety.applianceGasReadingsMaster.preliminaryReadings)) {\n\n                                if ((appliance.safety.applianceGasReadingsMaster.preliminaryReadings.burnerPressure !== null)\n                                    && (appliance.safety.applianceGasReadingsMaster.preliminaryReadings.burnerPressure !== undefined)) {\n                                    model.operatingValue =\n                                        appliance.safety.applianceGasReadingsMaster.preliminaryReadings.burnerPressure;\n                                    model.operatingValueUnits = OperatingValueUnits.M;\n                                } else if ((appliance.safety.applianceGasReadingsMaster.preliminaryReadings.gasRateReading !== null)\n                                    && (appliance.safety.applianceGasReadingsMaster.preliminaryReadings.gasRateReading !== undefined)) {\n                                    model.operatingValue =\n                                        appliance.safety.applianceGasReadingsMaster.preliminaryReadings.gasRateReading;\n                                    model.operatingValueUnits = OperatingValueUnits.K;\n                                } else if ((appliance.safety.applianceGasReadingsMaster.preliminaryReadings.readingFinalRatio !== null)\n                                    && (appliance.safety.applianceGasReadingsMaster.preliminaryReadings.readingFinalRatio !== undefined)) {\n                                    model.operatingValue =\n                                        appliance.safety.applianceGasReadingsMaster.preliminaryReadings.readingFinalRatio;\n                                    model.operatingValueUnits = OperatingValueUnits.R;\n                                } else {\n                                    model.operatingValue = undefined;\n                                    model.operatingValueUnits = undefined;\n                                }\n                            } else {\n                                model.operatingValue = undefined;\n                                model.operatingValueUnits = undefined;\n                            }\n\n                            if (appliance.safety.applianceGasSafety) {\n\n                                model.make = appliance.safety.applianceGasSafety.applianceMake;\n                                model.model = appliance.safety.applianceGasSafety.applianceModel;\n\n                                if (appliance.safety.applianceGasSafety.requestedToTest !== null && appliance.safety.applianceGasSafety.requestedToTest !== undefined) {\n                                    model.requestedToTest = appliance.safety.applianceGasSafety.requestedToTest;\n                                } else {\n                                    model.requestedToTest = appliance.safety.applianceGasSafety.requestedToTest;\n                                }\n\n                                if (appliance.safety.applianceGasSafety.ableToTest !== null && appliance.safety.applianceGasSafety.ableToTest !== undefined) {\n                                    model.unableToTest = !appliance.safety.applianceGasSafety.ableToTest;\n                                } else {\n                                    model.unableToTest = appliance.safety.applianceGasSafety.ableToTest;\n                                }\n\n                                if (appliance.safety.applianceGasSafety.safetyDevice !== null\n                                    && appliance.safety.applianceGasSafety.safetyDevice !== undefined) {\n\n                                    model.safetyDeviceCorrectOperation = appliance.safety.applianceGasSafety.safetyDevice === safetyDeviceYesValueBusinessRule\n                                        ? YesNoNa.Yes\n                                        : (appliance.safety.applianceGasSafety.safetyDevice === safetyDeviceNoValueBusinessRule ? YesNoNa.No : YesNoNa.Na);\n                                } else {\n                                    model.safetyDeviceCorrectOperation = undefined;\n                                }\n\n                                if (appliance.safety.applianceGasSafety.ventilationSafe !== null\n                                    && appliance.safety.applianceGasSafety.ventilationSafe !== undefined) {\n\n                                    model.ventilationSatisfactory = appliance.safety.applianceGasSafety.ventilationSafe\n                                        ? YesNoNa.Yes\n                                        : YesNoNa.No;\n                                } else {\n                                    model.ventilationSatisfactory = undefined;\n                                }\n\n                                if (appliance.safety.applianceGasSafety.chimneyInstallationAndTests !== null\n                                    && appliance.safety.applianceGasSafety.chimneyInstallationAndTests !== undefined) {\n\n                                    model.flueFlowTest = appliance.safety.applianceGasSafety.chimneyInstallationAndTests\n                                        ? YesNoNa.Yes : YesNoNa.No;\n\n                                    model.spillageTest = model.flueFlowTest;\n                                    model.visualConditionOfFlueAndTerminationSatisfactory = model.flueFlowTest;\n                                } else {\n                                    model.flueFlowTest = undefined;\n                                    model.spillageTest = undefined;\n                                    model.visualConditionOfFlueAndTerminationSatisfactory = undefined;\n                                }\n                            }\n\n                            if (((appliance.safety.applianceGasSafety.requestedToTest !== null) && (appliance.safety.applianceGasSafety.requestedToTest !== undefined)\n                                && (appliance.safety.applianceGasSafety.requestedToTest === false))\n                                || ((appliance.safety.applianceGasSafety.ableToTest !== null) && (appliance.safety.applianceGasSafety.ableToTest !== undefined)\n                                    && (appliance.safety.applianceGasSafety.ableToTest === false))) {\n                                // do the other fields\n                                model.operatingValue = null;\n                                model.operatingValueUnits = null;\n                                model.safetyDeviceCorrectOperation = YesNoNa.Na;\n                                model.ventilationSatisfactory = YesNoNa.Na;\n                                model.flueFlowTest = YesNoNa.Na;\n                                model.spillageTest = YesNoNa.Na;\n                                model.visualConditionOfFlueAndTerminationSatisfactory = YesNoNa.Na;\n                            }\n                        }\n\n                        // dont need the flue checks if the flue type is flue less\n                        switch (appliance.flueType) {\n                            case flueLessApplianceTypeBusinessRule:\n                                model.flueFlowTest = YesNoNa.Na;\n                                model.spillageTest = YesNoNa.Na;\n                                model.visualConditionOfFlueAndTerminationSatisfactory = YesNoNa.Na;\n                                break;\n                            case roomSealedFlueApplianceTypeBusinessRule:\n                                model.flueFlowTest = YesNoNa.Na;\n                                model.spillageTest = YesNoNa.Na;\n                                break;\n                        }\n\n                        return model;\n                    } else {\n                        throw new BusinessException(this, \"landlordFactory\", \"could not get object type catalog item for appliance type ${applianceType}\", [appliance.applianceType], null);\n                    }\n                });\n        } else {\n            return Promise.resolve(undefined);\n        }\n    }\n\n    public createLandlordSafetyCertificateResult(propertySafety: PropertySafety, businessRules: QueryableBusinessRuleGroup, safetyActions: ISafetyAction[])\n        : LandlordSafetyCertificateResultBusinessModel {\n\n        let model: LandlordSafetyCertificateResultBusinessModel = new LandlordSafetyCertificateResultBusinessModel();\n        model.propertySafetyDefect = new LandlordSafetyCertificateDefectBusinessModel();\n\n        let gasMeterApplianceSatisfactoryYesBusinessRule = businessRules.getBusinessRule<string>(\"gasMeterApplianceSatisfactoryYes\");\n        let gasMeterApplianceSatisfactoryNoBusinessRule = businessRules.getBusinessRule<string>(\"gasMeterApplianceSatisfactoryNo\");\n        let gasMeterApplianceSatisfactoryNoMeterBusinessRule = businessRules.getBusinessRule<string>(\"gasMeterApplianceSatisfactoryNoMeter\");\n        let gasMeterApplianceSatisfactoryNotApplicableBusinessRule = businessRules.getBusinessRule<string>(\"gasMeterApplianceSatisfactoryNotApplicable\");\n        let conditionAsLeftImmediatelyDangerousBusinessRule = businessRules.getBusinessRule<string>(\"conditionAsLeftImmediatelyDangerous\");\n        let conditionAsLeftAtRiskBusinessRule = businessRules.getBusinessRule<string>(\"conditionAsLeftAtRisk\");\n        let conditionAsLeftNotCommissionedBusinessRule = businessRules.getBusinessRule<string>(\"conditionAsLeftNotCommissioned\");\n        let conditionAsLeftNotToCurrentStandardsBusinessRule = businessRules.getBusinessRule<string>(\"conditionAsLeftNotToCurrentStandards\");\n        let reportMaxLengthBusinessRule = businessRules.getBusinessRule<number>(\"reportMaxLength\");\n\n        if (propertySafety && propertySafety.propertyUnsafeDetail\n            && propertySafety.propertyUnsafeDetail.reasons\n            && propertySafety.propertyUnsafeDetail.reasons.length > 0) {\n            model.propertySafetyDefect.isNotApplicable = false;\n\n            if (propertySafety.propertyUnsafeDetail.report && propertySafety.propertyUnsafeDetail.report.length > 0) {\n                model.propertySafetyDefect.details = propertySafety.propertyUnsafeDetail.report.length > reportMaxLengthBusinessRule\n                    ? propertySafety.propertyUnsafeDetail.report.substr(0, reportMaxLengthBusinessRule)\n                    : propertySafety.propertyUnsafeDetail.report;\n            }\n\n            model.propertySafetyDefect.actionTaken = propertySafety.propertyUnsafeDetail.cappedTurnedOff;\n            let action = safetyActions.find(x => x.actionCode === propertySafety.propertyUnsafeDetail.cappedTurnedOff);\n            if (action) {\n                model.propertySafetyDefect.actionTakenText = action.safetyActionDescription;\n            }\n\n            model.propertySafetyDefect.labelledAndWarningNoticeGiven = propertySafety.propertyUnsafeDetail.letterLeft === true\n                ? YesNoNa.Yes\n                : (propertySafety.propertyUnsafeDetail.letterLeft === false ? YesNoNa.No : undefined);\n\n            model.propertySafetyDefect.conditionOfAppliance = propertySafety.propertyUnsafeDetail.conditionAsLeft;\n        } else {\n            model.propertySafetyDefect.isNotApplicable = true;\n            model.propertySafetyDefect.details = undefined;\n            model.propertySafetyDefect.actionTaken = undefined;\n            model.propertySafetyDefect.actionTakenText = undefined;\n            model.propertySafetyDefect.labelledAndWarningNoticeGiven = undefined;\n            model.propertySafetyDefect.conditionOfAppliance = undefined;\n        }\n\n        model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = undefined;\n\n        if (propertySafety && propertySafety.propertyGasSafetyDetail\n            && propertySafety.propertyGasSafetyDetail.gasMeterInstallationSatisfactory === gasMeterApplianceSatisfactoryYesBusinessRule) {\n\n            // everything ok\n            model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = YesNoNa.Yes;\n        } else if (propertySafety && propertySafety.propertyGasSafetyDetail\n            && propertySafety.propertyGasSafetyDetail.gasMeterInstallationSatisfactory === gasMeterApplianceSatisfactoryNoBusinessRule\n            && propertySafety.propertyUnsafeDetail\n            && propertySafety.propertyUnsafeDetail.conditionAsLeft === conditionAsLeftNotToCurrentStandardsBusinessRule) {\n\n            // not to current standards\n            model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = YesNoNa.Yes;\n        } else if (propertySafety && propertySafety.propertyGasSafetyDetail\n            && propertySafety.propertyGasSafetyDetail.gasMeterInstallationSatisfactory === gasMeterApplianceSatisfactoryNoMeterBusinessRule) {\n\n            // no meter\n            model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = YesNoNa.Na;\n        } else if (propertySafety && propertySafety.propertyGasSafetyDetail\n            && propertySafety.propertyGasSafetyDetail.gasMeterInstallationSatisfactory === gasMeterApplianceSatisfactoryNotApplicableBusinessRule) {\n\n            // not applicable\n            model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = YesNoNa.Yes;\n        } else if (propertySafety && propertySafety.propertyGasSafetyDetail\n            && propertySafety.propertyGasSafetyDetail.gasMeterInstallationSatisfactory === gasMeterApplianceSatisfactoryNoBusinessRule\n            && propertySafety.propertyUnsafeDetail\n            && propertySafety.propertyUnsafeDetail.conditionAsLeft === conditionAsLeftAtRiskBusinessRule) {\n\n            // at risk\n            model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = YesNoNa.No;\n        } else if (propertySafety && propertySafety.propertyGasSafetyDetail\n            && propertySafety.propertyGasSafetyDetail.gasMeterInstallationSatisfactory === gasMeterApplianceSatisfactoryNoBusinessRule\n            && propertySafety.propertyUnsafeDetail\n            && propertySafety.propertyUnsafeDetail.conditionAsLeft === conditionAsLeftImmediatelyDangerousBusinessRule) {\n\n            // immediately dangerous\n            model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = YesNoNa.No;\n        } else if (propertySafety && propertySafety.propertyGasSafetyDetail\n            && propertySafety.propertyGasSafetyDetail.gasMeterInstallationSatisfactory === gasMeterApplianceSatisfactoryNoBusinessRule\n            && propertySafety.propertyUnsafeDetail\n            && propertySafety.propertyUnsafeDetail.conditionAsLeft === conditionAsLeftNotCommissionedBusinessRule) {\n\n            // not commissioned\n            model.gasInstallationTightnessTestAndVisualInspectionOfPipeworkPass = YesNoNa.Na;\n        }\n\n        return model;\n    }\n\n    public createLandlordSafetyCertificateDefect(appliance: Appliance, businessRules: QueryableBusinessRuleGroup, safetyActions: ISafetyAction[])\n        : LandlordSafetyCertificateDefectBusinessModel {\n\n        let model: LandlordSafetyCertificateDefectBusinessModel = new LandlordSafetyCertificateDefectBusinessModel();\n\n        let reportMaxLengthBusinessRule = businessRules.getBusinessRule<number>(\"reportMaxLength\");\n\n        if (appliance && appliance.safety && appliance.safety.applianceGasSafety) {\n            if (appliance.safety.applianceGasSafety.isApplianceSafe !== null\n                && appliance.safety.applianceGasSafety.isApplianceSafe !== undefined) {\n                if (!appliance.safety.applianceGasSafety.isApplianceSafe\n                    || (appliance.safety.applianceGasUnsafeDetail && appliance.safety.applianceGasUnsafeDetail.report)) {\n                    if (appliance.safety.applianceGasUnsafeDetail) {\n                        // need to put in some defect info\n                        model.isNotApplicable = false;\n                        if (appliance.safety.applianceGasUnsafeDetail.report && appliance.safety.applianceGasUnsafeDetail.report.length > reportMaxLengthBusinessRule) {\n                            model.details = appliance.safety.applianceGasUnsafeDetail.report.substr(0, reportMaxLengthBusinessRule);\n                        } else {\n                            model.details = appliance.safety.applianceGasUnsafeDetail.report;\n                        }\n\n                        model.actionTaken = appliance.safety.applianceGasUnsafeDetail.cappedTurnedOff;\n                        let action = safetyActions.find(x => x.actionCode === appliance.safety.applianceGasUnsafeDetail.cappedTurnedOff);\n                        if (action) {\n                            model.actionTakenText = action.safetyActionDescription;\n                        }\n\n                        model.labelledAndWarningNoticeGiven = appliance.safety.applianceGasUnsafeDetail.letterLeft === true\n                            ? YesNoNa.Yes\n                            : (appliance.safety.applianceGasUnsafeDetail.letterLeft === false ? YesNoNa.No : undefined);\n                        model.conditionOfAppliance = appliance.safety.applianceGasUnsafeDetail.conditionAsLeft;\n                    } else {\n                        model.isNotApplicable = false;\n                        model.details = undefined;\n                        model.actionTaken = undefined;\n                        model.actionTakenText = undefined;\n                        model.labelledAndWarningNoticeGiven = undefined;\n                        model.conditionOfAppliance = undefined;\n                    }\n                } else {\n                    model.isNotApplicable = true;\n                    model.details = undefined;\n                    model.actionTaken = undefined;\n                    model.actionTakenText = undefined;\n                    model.labelledAndWarningNoticeGiven = undefined;\n                    model.conditionOfAppliance = undefined;\n                }\n            } else {\n                model.isNotApplicable = false;\n                model.details = undefined;\n                model.actionTaken = undefined;\n                model.actionTakenText = undefined;\n                model.labelledAndWarningNoticeGiven = undefined;\n                model.conditionOfAppliance = undefined;\n            }\n        } else {\n            model.isNotApplicable = false;\n            model.details = undefined;\n            model.actionTaken = undefined;\n            model.actionTakenText = undefined;\n            model.labelledAndWarningNoticeGiven = undefined;\n            model.conditionOfAppliance = undefined;\n        }\n\n        return model;\n    }\n}\n"],"sourceRoot":"../../.."}