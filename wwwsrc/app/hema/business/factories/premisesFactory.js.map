{"version":3,"sources":["hema/business/factories/premisesFactory.ts"],"names":[],"mappings":";;;;;;;;;;;;IAWA;QAGI,yBAAY,cAA+B;YACvC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;QAC1C,CAAC;QAEM,qDAA2B,GAAlC,UAAmC,gBAAkC;YACjE,IAAI,qBAAqB,GAA0B,IAAI,mBAAqB,EAAE,CAAC;YAE/E,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACnB,qBAAqB,CAAC,EAAE,GAAG,gBAAgB,CAAC,EAAE,CAAC;gBAC/C,qBAAqB,CAAC,UAAU,GAAG,gBAAgB,CAAC,yBAAyB,CAAC;gBAE9E,yCAAyC;gBACzC,uCAAuC;gBACvC,+BAA+B;gBAE/B;2CAC2B;gBAE3B,EAAE,CAAC,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;oBAC3B,qBAAqB,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;gBAC9G,CAAC;YACL,CAAC;YAED,MAAM,CAAC,qBAAqB,CAAC;QACjC,CAAC;QAEM,gDAAsB,GAA7B,UAA8B,qBAA4C;YACtE,IAAI,gBAAgB,GAA2B,EAAE,CAAC;YAElD,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;gBACxB,gBAAgB,CAAC,EAAE,GAAG,qBAAqB,CAAC,EAAE,CAAC;gBAC/C,EAAE,CAAC,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChC,gBAAgB,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;gBACzG,CAAC;YACL,CAAC;YAED,MAAM,CAAC,gBAAgB,CAAC;QAC5B,CAAC;QAxCQ,eAAe;YAD3B,0BAAM,CAAC,+BAAc,CAAC;;WACV,eAAe,CAyC3B;QAAD,sBAAC;KAzCD,AAyCC,IAAA;IAzCY,0CAAe","file":"premisesFactory.js","sourcesContent":["import {inject} from \"aurelia-framework\";\r\n\r\nimport {IPremisesFactory} from \"./interfaces/IPremisesFactory\";\r\nimport {IAddressFactory} from \"./interfaces/IAddressFactory\";\r\nimport {AddressFactory} from \"./addressFactory\";\r\n\r\nimport {IPremises as PremisesApiModel} from \"../../api/models/fft/jobs/IPremises\";\r\nimport {IPremises as PremisesUpdateApiModel} from \"../../api/models/fft/jobs/jobupdate/IPremises\";\r\nimport {Premises as PremisesBusinessModel} from \"../models/premises\";\r\n\r\n@inject(AddressFactory)\r\nexport class PremisesFactory implements IPremisesFactory {\r\n    private _addressFactory: IAddressFactory;\r\n\r\n    constructor(addressFactory: IAddressFactory) {\r\n        this._addressFactory = addressFactory;\r\n    }\r\n\r\n    public createPremisesBusinessModel(premisesApiModel: PremisesApiModel): PremisesBusinessModel {\r\n        let premisesBusinessModel: PremisesBusinessModel = new PremisesBusinessModel();\r\n\r\n        if (premisesApiModel) {\r\n            premisesBusinessModel.id = premisesApiModel.id;\r\n            premisesBusinessModel.accessInfo = premisesApiModel.specialAccessInstructions;\r\n\r\n            // todo - Data Mapping - currently unused\r\n            // premisesApiModel.previousVisitCount;\r\n            // premisesApiModel.chirpAICode\r\n\r\n            /* These are converted externally by additional factories called from the JobFactory\r\n            premisesApiModel.contact */\r\n\r\n            if (premisesApiModel.address) {\r\n                premisesBusinessModel.address = this._addressFactory.createAddressBusinessModel(premisesApiModel.address);\r\n            }\r\n        }\r\n\r\n        return premisesBusinessModel;\r\n    }\r\n\r\n    public createPremisesApiModel(premisesBusinessModel: PremisesBusinessModel): PremisesUpdateApiModel {\r\n        let premisesApiModel = <PremisesUpdateApiModel>{};\r\n\r\n        if (premisesBusinessModel) {\r\n            premisesApiModel.id = premisesBusinessModel.id;\r\n            if (premisesBusinessModel.address) {\r\n                premisesApiModel.address = this._addressFactory.createAddressApiModel(premisesBusinessModel.address);\r\n            }\r\n        }\r\n\r\n        return premisesApiModel;\r\n    }\r\n}\r\n"],"sourceRoot":"../../.."}