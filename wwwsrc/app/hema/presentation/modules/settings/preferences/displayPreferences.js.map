{"version":3,"sources":["hema/presentation/modules/settings/preferences/displayPreferences.ts"],"names":[],"mappings":"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","file":"displayPreferences.js","sourcesContent":["import { inject } from \"aurelia-dependency-injection\";\nimport { StorageService } from \"../../../../business/services/storageService\";\nimport { IStorageService } from \"../../../../business/services/interfaces/IStorageService\";\nimport { ApplicationSettings } from \"../../../../business/models/applicationSettings\";\nimport { ILabelService } from \"../../../../business/services/interfaces/ILabelService\";\nimport { LabelService } from \"../../../../business/services/labelService\";\nimport { observable } from \"aurelia-binding\";\nimport { BaseViewModel } from \"../../../models/baseViewModel\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { DialogService } from \"aurelia-dialog\";\n\n@inject(LabelService, EventAggregator, DialogService, StorageService)\nexport class DisplayPreferences extends BaseViewModel {\n\n    @observable\n    public toastSelectedPosition: number;\n\n    @observable\n    public toastDelay: number;\n    public toastScreenPositions: { code: number, position: string }[];\n    public appSettings: ApplicationSettings;\n    public toastTimeValues: { timeInSecond: number, description: string }[];\n\n    @observable\n    public dropdownType: number;\n    public dropdownTypeValues: { code: number, description: string }[];\n\n    @observable\n    public sound: number;\n    public dropdownSoundNotificationValues: {code: number, description: string }[];\n\n    private _storage: IStorageService;\n\n    constructor(labelService: ILabelService, eventAggregator: EventAggregator, dialogService: DialogService, storage: IStorageService) {\n        super(labelService, eventAggregator, dialogService);\n\n        this.appSettings = <ApplicationSettings>{};\n        this._storage = storage;\n    }\n\n    public activateAsync(): Promise<any> {\n\n        this.toastScreenPositions = [];\n        this.toastScreenPositions.push({ code: 1, position: \"Top Centre\" });\n        this.toastScreenPositions.push({ code: 2, position: \"Top Left\" });\n        this.toastScreenPositions.push({ code: 3, position: \"Top Right\" });\n        this.toastScreenPositions.push({ code: 4, position: \"Bottom Centre\" });\n        this.toastScreenPositions.push({ code: 5, position: \"Bottom Left\" });\n        this.toastScreenPositions.push({ code: 6, position: \"Bottom Right\" });\n\n        this.toastTimeValues = [];\n        this.toastTimeValues.push({ timeInSecond: 1, description: \"1 Second\" });\n        this.toastTimeValues.push({ timeInSecond: 2, description: \"2 Seconds\" });\n        this.toastTimeValues.push({ timeInSecond: 3, description: \"3 Seconds\" });\n        this.toastTimeValues.push({ timeInSecond: 5, description: \"5 Seconds\" });\n        this.toastTimeValues.push({ timeInSecond: 7, description: \"7 Seconds\" });\n        this.toastTimeValues.push({ timeInSecond: 10, description: \"10 Seconds\" });\n\n        this.dropdownTypeValues = [];\n        this.dropdownTypeValues.push({ code: 1, description: \"Normal\" });\n        this.dropdownTypeValues.push({ code: 2, description: \"Smash Buttons\" });\n\n        this.dropdownSoundNotificationValues = [];\n        this.dropdownSoundNotificationValues.push({code: 1, description: \"Off\"});\n        this.dropdownSoundNotificationValues.push({code: 2, description: \"On\"});\n\n        return this._storage.getAppSettings()\n            .then((settings) => {\n                this.appSettings = settings;\n                this.dropdownType = this.appSettings.dropdownType;\n                this.toastDelay = this.appSettings.notificationDisplayTime;\n                this.toastSelectedPosition = this.appSettings.notificationPosition;\n                this.sound = this.appSettings.soundEnabled ? 2 : 1;\n            });\n    }\n\n    public toastDelayChanged(newValue: number, oldValue: number): void {\n        this.appSettings.notificationDisplayTime = newValue;\n        this._storage.setAppSettings(this.appSettings);\n    }\n\n    public toastSelectedPositionChanged(newValue: number, oldValue: number): void {\n        this.appSettings.notificationPosition = newValue;\n        this._storage.setAppSettings(this.appSettings);\n    }\n\n    public dropdownTypeChanged(newValue: number, oldValue: number): void {\n        this.appSettings.dropdownType = newValue;\n        this._storage.setAppSettings(this.appSettings);\n    }\n\n    public soundChanged(newValue: number, oldValue: number): void {\n        this.appSettings.soundEnabled = newValue === 2;\n        this._storage.setAppSettings(this.appSettings);\n    }\n}\n"],"sourceRoot":"../../../../.."}