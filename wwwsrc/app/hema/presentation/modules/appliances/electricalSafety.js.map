{"version":3,"sources":["hema/presentation/modules/appliances/electricalSafety.ts"],"names":[],"mappings":"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","file":"electricalSafety.js","sourcesContent":["import { inject, BindingEngine } from \"aurelia-framework\";\nimport { Redirect } from \"aurelia-router\";\nimport { EventAggregator, Subscription } from \"aurelia-event-aggregator\";\nimport { LabelService } from \"../../../business/services/labelService\";\nimport { ILabelService } from \"../../../business/services/interfaces/ILabelService\";\nimport { IJobService } from \"../../../business/services/interfaces/IJobService\";\nimport { JobService } from \"../../../business/services/jobService\";\nimport { IValidationService } from \"../../../business/services/interfaces/IValidationService\";\nimport { ValidationService } from \"../../../business/services/validationService\";\nimport { IBusinessRuleService } from \"../../../business/services/interfaces/IBusinessRuleService\";\nimport { BusinessRuleService } from \"../../../business/services/businessRuleService\";\nimport { CatalogService } from \"../../../business/services/catalogService\";\nimport { ICatalogService } from \"../../../business/services/interfaces/ICatalogService\";\nimport { EditableViewModel } from \"../../models/editableViewModel\";\nimport { ElectricalSafetyViewModel } from \"./viewModels/electricalSafetyViewModel\";\nimport { ButtonListItem } from \"../../../../common/ui/elements/models/buttonListItem\";\nimport { ApplianceService } from \"../../../business/services/applianceService\";\nimport { IApplianceService } from \"../../../business/services/interfaces/IApplianceService\";\nimport { PropertySafetyService } from \"../../../business/services/propertySafetyService\";\nimport { IPropertySafetyService } from \"../../../business/services/interfaces/IPropertySafetyService\";\nimport { IApplianceSafetyFactory } from \"../../factories/interfaces/IApplianceSafetyFactory\";\nimport { ApplianceSafetyFactory } from \"../../factories/applianceSafetyFactory\";\nimport { EngineerService } from \"../../../business/services/engineerService\";\nimport { IEngineerService } from \"../../../business/services/interfaces/IEngineerService\";\nimport { DialogService } from \"aurelia-dialog\";\nimport { IElectricalApplianceType } from \"../../../business/models/reference/IElectricalApplianceType\";\nimport { CatalogConstants } from \"../../../business/services/constants/catalogConstants\";\nimport { ISftyReasonCat } from \"../../../business/models/reference/ISftyReasonCat\";\nimport { ISftyReadingCat } from \"../../../business/models/reference/ISftyReadingCat\";\nimport {AppliancePageHelper} from \"./appliancePageHelper\";\nimport { BusinessRulesViewModel } from \"../../models/businessRulesViewModel\";\n\n@inject(JobService, EngineerService, LabelService, EventAggregator, DialogService, ValidationService, BusinessRuleService, CatalogService,\n    BindingEngine, ApplianceService, PropertySafetyService, ApplianceSafetyFactory)\nexport class ElectricalSafety extends EditableViewModel {\n\n    public viewModel: ElectricalSafetyViewModel;\n\n    public jobTypeCatalog: IElectricalApplianceType[];\n    public mainEarthCheckedLookup: ButtonListItem[];\n    public gasBondingCheckedLookup: ButtonListItem[];\n    public waterBondingCheckedLookup: ButtonListItem[];\n    public otherBondingCheckedLookup: ButtonListItem[];\n    public supplementaryBondingOrFullRcdProtectionCheckedLookup: ButtonListItem[];\n    public ringContinuityReadingDoneLookup: ButtonListItem[];\n    public readingSafeAccordingToTopsLookup: ButtonListItem[];\n    public isRcdPresentLookup: ButtonListItem[];\n\n    public leInsulationResistanceReasonWhyNotLookup: ButtonListItem[];\n    public neInsulationResistanceReasonWhyNotLookup: ButtonListItem[];\n    public lnInsulationResistanceReasonWhyNotLookup: ButtonListItem[];\n\n    public finalEliReadingDoneLookup: ButtonListItem[];\n    public circuitRcdRcboProtectedLookup: ButtonListItem[];\n    public applianceEarthContinuityReadingDoneLookup: ButtonListItem[];\n    public mcbFuseRatingCatalog: ISftyReadingCat[];\n    public mcbFuseRatingReasonWhyNotLookup: ButtonListItem[];\n    public applianceFuseRatingCatalog: ISftyReadingCat[];\n    public applianceFuseRatingReasonWhyNotLookup: ButtonListItem[];\n\n    public isPartPLookup: ButtonListItem[];\n    public partPReasonCatalog: ISftyReasonCat[];\n    public microwaveLeakageReadingReasonWhyNotLookup: ButtonListItem[];\n\n    public isApplianceHardWiredLookup: ButtonListItem[];\n    public workedOnLightingCircuitLookup: ButtonListItem[];\n    public cpcInLightingCircuitOkLookup: ButtonListItem[];\n    public installationSatisfactoryLookup: ButtonListItem[];\n    public applianceSafeLookup: ButtonListItem[];\n    public applianceInstallationSatisfactoryLookup: ButtonListItem[];\n\n    public conditionAsLeftLookup: ButtonListItem[];\n    public cappedTurnedOffLookup: ButtonListItem[];\n    public labelAttachedRemovedLookup: ButtonListItem[];\n    public ownedByCustomerLookup: ButtonListItem[];\n    public letterLeftLookup: ButtonListItem[];\n    public signatureObtainedLookup: ButtonListItem[];\n\n    private _applianceId: string;\n    private _bindingEngine: BindingEngine;\n    private _propertySubscriptions: Subscription[];\n    private _applianceService: IApplianceService;\n    private _propertySafetyService: IPropertySafetyService;\n    private _applianceSafetyFactory: IApplianceSafetyFactory;\n\n    public constructor(\n        jobService: IJobService,\n        engineerService: IEngineerService,\n        labelService: ILabelService,\n        eventAggregator: EventAggregator,\n        dialogService: DialogService,\n        validationService: IValidationService,\n        businessRulesService: IBusinessRuleService,\n        catalogService: ICatalogService,\n        bindingEngine: BindingEngine,\n        applianceService: IApplianceService,\n        propertySafetyService: IPropertySafetyService,\n        applianceSafetyFactory: IApplianceSafetyFactory) {\n        super(jobService, engineerService, labelService, eventAggregator, dialogService, validationService, businessRulesService, catalogService);\n        this._bindingEngine = bindingEngine;\n        this._propertySubscriptions = [];\n        this._applianceService = applianceService;\n        this._propertySafetyService = propertySafetyService;\n        this._applianceSafetyFactory = applianceSafetyFactory;\n\n        this.validationRules = {};\n    }\n\n    public canActivateAsync(...rest: any[]): Promise<boolean | Redirect> {\n        return AppliancePageHelper.checkApplianceSafetyType(this._applianceService, rest);\n    }\n\n    public activateAsync(params: { applianceId: string, jobId: string }): Promise<any> {\n        this._applianceId = params.applianceId;\n\n        if (this._isCleanInstance) {\n            return this.loadBusinessRules()\n                .then(() => this.loadCatalogs())\n                .then(() => this.load())\n                .then(() => this.buildValidationRules())\n                .then(() => this.showContent());\n        } else {\n            return this.load();\n        }\n    }\n\n    public deactivateAsync(): Promise<void> {\n        this.disposeSubscriptions();\n        return Promise.resolve();\n    }\n\n    public toggleLeInsulationResistanceShowReasonWhyNot(): Promise<void> {\n        this.viewModel.showLeInsulationResistanceReasonWhyNot = !this.viewModel.showLeInsulationResistanceReasonWhyNot;\n        return this.validateAllRules();\n    }\n\n    public toggleNeInsulationResistanceShowReasonWhyNot(): Promise<void> {\n        this.viewModel.showNeInsulationResistanceReasonWhyNot = !this.viewModel.showNeInsulationResistanceReasonWhyNot;\n        return this.validateAllRules();\n    }\n\n    public toggleLnInsulationResistanceShowReasonWhyNot(): Promise<void> {\n        this.viewModel.showLnInsulationResistanceReasonWhyNot = !this.viewModel.showLnInsulationResistanceReasonWhyNot;\n        return this.validateAllRules();\n    }\n\n    public toggleMcbFuseRatingShowReasonWhyNot(): Promise<void> {\n        this.viewModel.showMcbFuseRatingReasonWhyNot = !this.viewModel.showMcbFuseRatingReasonWhyNot;\n        return this.validateAllRules();\n    }\n\n    public toggleApplianceFuseRatingShowReasonWhyNot(): Promise<void> {\n        this.viewModel.showApplianceFuseRatingReasonWhyNot = !this.viewModel.showApplianceFuseRatingReasonWhyNot;\n        return this.validateAllRules();\n    }\n\n    public toggleMicrowaveLeakageReadingShowReasonWhyNot(): Promise<void> {\n        this.viewModel.showMicrowaveLeakageReadingReasonWhyNot = !this.viewModel.showMicrowaveLeakageReadingReasonWhyNot;\n        return this.validateAllRules();\n    }\n\n    protected loadModel(): Promise<void> {\n        return this._applianceService.getApplianceSafetyDetails(this.jobId, this._applianceId)\n            .then((applianceSafety) => {\n                if (applianceSafety && (applianceSafety.applianceElectricalSafetyDetail || applianceSafety.applianceElectricalUnsafeDetail)) {\n                    // there are some safety info already there, load those\n                    this.viewModel = this._applianceSafetyFactory.createElectricalSafetyViewModel(applianceSafety, this.businessRules);\n                    this.initialiseViewModel();\n                    this.setInitialDataState(applianceSafety.applianceElectricalSafetyDetail.dataStateId, applianceSafety.applianceElectricalSafetyDetail.dataState);\n                } else {\n                    this.viewModel = new ElectricalSafetyViewModel(this.businessRules);\n                    this.initialiseViewModel();\n                    this.setNewDataState(\"appliances\");\n                }\n\n                return this._propertySafetyService.getPropertySafetyDetails(this.jobId);\n            })\n            .then((propertySafety) => {\n                // get the property safety info and save it to local\n                if (propertySafety && propertySafety.propertyElectricalSafetyDetail) {\n                    this.viewModel.systemType = propertySafety.propertyElectricalSafetyDetail.systemType;\n                }\n\n                return this._applianceService.getAppliance(this.jobId, this._applianceId);\n            })\n            .then((appliance) => {\n                // get the type of appliance to figure out the type e.g. Electrical, whiteGoods, Microwave etc\n                return this._catalogService.getApplianceElectricalType(appliance.applianceType);\n            })\n            .then((applianceElectricalType) => {\n                if (applianceElectricalType && !this.viewModel.electricalApplianceType) {\n                    this.viewModel.electricalApplianceType = applianceElectricalType.applianceElectricalType;\n                }\n            });\n    }\n\n    protected saveModel(): Promise<void> {\n        let applianceElectricalSafetyDetail = this._applianceSafetyFactory.createApplianceElectricalSafetyDetail(this.viewModel);\n        let applianceElectricalUnsafeDetail = this._applianceSafetyFactory.createApplianceElectricalUnsafeDetail(this.viewModel);\n\n        applianceElectricalSafetyDetail.dataState = this.getFinalDataState();\n\n        return this._applianceService.saveElectricalSafetyDetails(this.jobId, this._applianceId, applianceElectricalSafetyDetail, applianceElectricalUnsafeDetail, this._isDirty);\n    }\n\n    protected clearModel(): Promise<void> {\n        let systemType = this.viewModel.systemType;\n        let electricalApplianceType = this.viewModel.electricalApplianceType;\n\n        this.viewModel = new ElectricalSafetyViewModel(this.businessRules);\n        this.initialiseViewModel();\n        this.viewModel.systemType = systemType;\n        this.viewModel.electricalApplianceType = electricalApplianceType;\n\n        return this.buildValidationRules();\n    }\n\n    private initialiseViewModel(): void {\n        this.disposeSubscriptions();\n\n        this.viewModel.getPropertiesToBind().forEach(propertyKey => {\n            this._propertySubscriptions.push(this._bindingEngine\n                .propertyObserver(this.viewModel, propertyKey)\n                .subscribe((newValue, oldValue) => {\n                    this.viewModel.recalculateflowState(propertyKey);\n                }));\n        });\n\n        this._propertySubscriptions.push(this._bindingEngine\n            .propertyObserver(this.viewModel, \"availableConditionAsLefts\")\n            .subscribe((newValue, oldValue) => {\n                this.handleAvailableConditionAsLeftsChanged();\n            })\n        );\n\n        this._propertySubscriptions.push(this._bindingEngine\n            .propertyObserver(this.viewModel, \"availableLabelAttachedRemovedLookups\")\n            .subscribe((newValue, oldValue) => {\n                this.handleAvailableLabelAttachedRemovedChanged();\n            })\n        );\n\n        this._propertySubscriptions.push(this._bindingEngine\n            .propertyObserver(this.viewModel, \"unsafeReasons\")\n            .subscribe((newValue, oldValue) => {\n                this.handleUnsafeReasonChanged(newValue, oldValue);\n            })\n        );\n\n        this.viewModel.recalculateflowState();\n    }\n\n    private handleAvailableLabelAttachedRemovedChanged(): void {\n                this.labelAttachedRemovedLookup.forEach(btn => {\n           btn.disabled = !this.viewModel.availableLabelAttachedRemovedLookups.some(a => btn.value === a);\n                });\n    }\n\n    private handleAvailableConditionAsLeftsChanged(): void {\n        this.conditionAsLeftLookup.forEach(btn => {\n            btn.disabled = !this.viewModel.availableConditionAsLefts.some(a => btn.value === a);\n        });\n    }\n\n    private handleUnsafeReasonChanged(newValues: { field: string, mandatory: boolean }[], oldValues: { field: string, mandatory: boolean }[]): void {\n        let showWarning = (key: string) => this.showWarning(\n            this.getLabel(\"unsafeSituation\"),\n            this.getLabel(key + \"Unsafe\"),\n            null,\n            this.getBusinessRule<number>(\"unsafeToastDismissTime\"));\n\n        newValues.filter(newValue => !oldValues.some(oldValue => oldValue.field === newValue.field && !!newValue.mandatory === !!oldValue.mandatory))\n            .forEach(newValue => showWarning(newValue.field));\n\n    }\n\n    private disposeSubscriptions(): void {\n        if (this._propertySubscriptions) {\n            this._propertySubscriptions.forEach(subscription => subscription.dispose());\n            this._propertySubscriptions = [];\n        }\n    }\n\n    private loadCatalogs(): Promise<void> {\n\n        let catalogPromises = [\n            this.buildYesNoList()\n                .then(btns => this.isApplianceHardWiredLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.workedOnLightingCircuitLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.cpcInLightingCircuitOkLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.installationSatisfactoryLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.applianceSafeLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.applianceInstallationSatisfactoryLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.readingSafeAccordingToTopsLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.isRcdPresentLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.ownedByCustomerLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.letterLeftLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.signatureObtainedLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.isPartPLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.finalEliReadingDoneLookup = btns),\n            this.buildYesNoList()\n                .then(btns => this.applianceEarthContinuityReadingDoneLookup = btns),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_LE_RESISTANCE_TAKEN)\n                .then(safetyNoticeTypes => {\n                    this.leInsulationResistanceReasonWhyNotLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_REASON_CAT_ID, CatalogConstants.SAFETY_REASON_CAT_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_NE_RESISTANCE_TAKEN)\n                .then(safetyNoticeTypes => {\n                    this.neInsulationResistanceReasonWhyNotLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_REASON_CAT_ID, CatalogConstants.SAFETY_REASON_CAT_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_LN_RESISTANCE_TAKEN)\n                .then(safetyNoticeTypes => {\n                    this.lnInsulationResistanceReasonWhyNotLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_REASON_CAT_ID, CatalogConstants.SAFETY_REASON_CAT_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_CIRCUIT_PROTECT)\n                .then(safetyNoticeTypes => {\n                    this.circuitRcdRcboProtectedLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_REASON_CAT_ID, CatalogConstants.SAFETY_REASON_CAT_DESCRIPTION);\n                }),\n\n            this._catalogService.getYesNoNotCheckeds()\n                .then(catalog => {\n                    this.mainEarthCheckedLookup =\n                        this.toButtonListItemArray(catalog, CatalogConstants.YES_NO_NOTCHECKED_ID, CatalogConstants.YES_NO_NOTCHECKED_DESCRIPTION);\n                }),\n\n            this._catalogService.getYesNoNotCheckeds()\n                .then(catalog => {\n                    this.gasBondingCheckedLookup =\n                        this.toButtonListItemArray(catalog, CatalogConstants.YES_NO_NOTCHECKED_ID, CatalogConstants.YES_NO_NOTCHECKED_DESCRIPTION);\n                }),\n\n            this._catalogService.getYesNoNotCheckeds()\n                .then(catalog => {\n                    this.waterBondingCheckedLookup =\n                        this.toButtonListItemArray(catalog, CatalogConstants.YES_NO_NOTCHECKED_ID, CatalogConstants.YES_NO_NOTCHECKED_DESCRIPTION);\n                }),\n\n            this._catalogService.getYesNoNotCheckedNas()\n                .then(catalog => {\n                    this.otherBondingCheckedLookup =\n                        this.toButtonListItemArray(catalog, CatalogConstants.YES_NO_NOTCHECKED_NA_ID, CatalogConstants.YES_NO_NOTCHECKED_NA_DESCRIPTION);\n                }),\n\n            this._catalogService.getYesNoNotCheckedNas()\n                .then(catalog => {\n                    this.supplementaryBondingOrFullRcdProtectionCheckedLookup =\n                        this.toButtonListItemArray(catalog, CatalogConstants.YES_NO_NOTCHECKED_NA_ID, CatalogConstants.YES_NO_NOTCHECKED_NA_DESCRIPTION);\n                }),\n\n            this._catalogService.getPassFailNas()\n                .then(catalog => {\n                    this.ringContinuityReadingDoneLookup =\n                        this.toButtonListItemArray(catalog, CatalogConstants.PASS_FAIL_NA_ID, CatalogConstants.PASS_FAIL_NA_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyNoticeTypes()\n                .then(safetyNoticeTypes => {\n                    this.conditionAsLeftLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_NOTICE_TYPE_ID, CatalogConstants.SAFETY_NOTICE_TYPE_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyActions()\n                .then(safetyActions => {\n                    this.cappedTurnedOffLookup =\n                        this.toButtonListItemArray(safetyActions, CatalogConstants.SAFETY_ACTION_ID, CatalogConstants.SAFETY_ACTION_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyNoticeStatuses()\n                .then(safetyNoticeStatus => {\n                    this.labelAttachedRemovedLookup =\n                        this.toButtonListItemArray(safetyNoticeStatus, CatalogConstants.SAFETY_NOTICE_STATUS_ID, CatalogConstants.SAFETY_NOTICE_STATUS_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_MCB_FUSE_RAT_NOT_CHKD_REAS)\n                .then(safetyNoticeTypes => {\n                    this.mcbFuseRatingReasonWhyNotLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_REASON_CAT_ID, CatalogConstants.SAFETY_REASON_CAT_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_APPLN_FUSE_RAT_NOT_CHKD_REAS)\n                .then(safetyNoticeTypes => {\n                    this.applianceFuseRatingReasonWhyNotLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_REASON_CAT_ID, CatalogConstants.SAFETY_REASON_CAT_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_LEAKAGE_TEST_NOT_DONE_REAS)\n                .then(safetyNoticeTypes => {\n                    this.microwaveLeakageReadingReasonWhyNotLookup =\n                        this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_REASON_CAT_ID, CatalogConstants.SAFETY_REASON_CAT_DESCRIPTION);\n                }),\n\n            this._catalogService.getSafetyReadingCats(CatalogConstants.SAFETY_READING_CAT_GROUP_MCB_FUSE_RAT_VALS)\n                .then(safetyReadings => {\n                    this.mcbFuseRatingCatalog = this.toSortedArray(safetyReadings, BusinessRulesViewModel.numericSorter(CatalogConstants.SAFETY_READING_CAT_DESCRIPTION));\n                }),\n\n            this._catalogService.getSafetyReadingCats(CatalogConstants.SAFETY_READING_CAT_GROUP_FUSE_RATE_VALS)\n                .then(safetyReadings => {\n                    this.applianceFuseRatingCatalog = this.toSortedArray(safetyReadings, BusinessRulesViewModel.numericSorter(CatalogConstants.SAFETY_READING_CAT_DESCRIPTION));\n                }),\n\n            this._catalogService.getSafetyReasonCats(CatalogConstants.SAFETY_REASON_CAT_GROUP_PART_P_REAS)\n                .then(safetyNoticeTypes => {\n                    this.partPReasonCatalog = safetyNoticeTypes;\n                }),\n\n            this._catalogService.getElectricalApplianceTypes()\n                .then(catalog => this.jobTypeCatalog = catalog)\n        ];\n\n        return Promise.all(catalogPromises).then(() => { });\n    }\n\n    private buildValidationRules(): Promise<void> {\n        return this.buildValidation([\n            { property: \"viewModel.mainEarthChecked\", condition: () => this.viewModel.mainEarthCheckedVisible },\n            { property: \"viewModel.gasBondingChecked\", condition: () => this.viewModel.gasBondingCheckedVisible },\n            { property: \"viewModel.waterBondingChecked\", condition: () => this.viewModel.gasBondingCheckedVisible },\n            { property: \"viewModel.otherBondingChecked\", condition: () => this.viewModel.otherBondingCheckedVisible },\n            { property: \"viewModel.supplementaryBondingOrFullRcdProtectionChecked\", condition: () => this.viewModel.supplementaryBondingOrFullRcdProtectionCheckedVisible },\n            { property: \"viewModel.ringContinuityReadingDone\", condition: () => this.viewModel.ringContinuityReadingDoneVisible },\n            { property: \"viewModel.leInsulationResistance\", condition: () => this.viewModel.leInsulationResistanceVisible && !this.viewModel.showLeInsulationResistanceReasonWhyNot },\n            { property: \"viewModel.leInsulationResistanceReasonWhyNot\", condition: () => this.viewModel.leInsulationResistanceReasonWhyNotVisible },\n            { property: \"viewModel.neInsulationResistance\", condition: () => this.viewModel.neInsulationResistanceVisible && !this.viewModel.showNeInsulationResistanceReasonWhyNot },\n            { property: \"viewModel.neInsulationResistanceReasonWhyNot\", condition: () => this.viewModel.neInsulationResistanceReasonWhyNotVisible },\n            { property: \"viewModel.lnInsulationResistance\", condition: () => this.viewModel.lnInsulationResistanceVisible && !this.viewModel.showLnInsulationResistanceReasonWhyNot },\n            { property: \"viewModel.lnInsulationResistanceReasonWhyNot\", condition: () => this.viewModel.lnInsulationResistanceReasonWhyNotVisible },\n            { property: \"viewModel.finalEliReadingDone\", condition: () => this.viewModel.finalEliReadingDoneVisible },\n            { property: \"viewModel.finalEliReading\", condition: () => this.viewModel.finalEliReadingVisible },\n            { property: \"viewModel.readingSafeAccordingToTops\", condition: () => this.viewModel.readingSafeAccordingToTopsVisible },\n            { property: \"viewModel.isRcdPresent\", condition: () => this.viewModel.isRcdPresentVisible },\n            { property: \"viewModel.circuitRcdRcboProtected\", condition: () => this.viewModel.circuitRcdRcboProtectedVisible },\n            { property: \"viewModel.rcdTripTimeReading\", condition: () => this.viewModel.rcdTripTimeReadingVisible },\n            { property: \"viewModel.rcboTripTimeReading\", condition: () => this.viewModel.rcboTripTimeReadingVisible },\n            { property: \"viewModel.applianceEarthContinuityReadingDone\", condition: () => this.viewModel.applianceEarthContinuityReadingDoneVisible },\n            { property: \"viewModel.applianceEarthContinuityReading\", condition: () => this.viewModel.applianceEarthContinuityReadingVisible },\n            { property: \"viewModel.isApplianceHardWired\", condition: () => this.viewModel.isApplianceHardWiredVisible },\n            { property: \"viewModel.mcbFuseRating\", condition: () => this.viewModel.mcbFuseRatingVisible && !this.viewModel.showMcbFuseRatingReasonWhyNot },\n            { property: \"viewModel.mcbFuseRatingReasonWhyNot\", condition: () => this.viewModel.mcbFuseRatingReasonWhyNotVisible },\n            { property: \"viewModel.applianceFuseRating\", condition: () => this.viewModel.applianceFuseRatingVisible && !this.viewModel.showApplianceFuseRatingReasonWhyNot },\n            { property: \"viewModel.applianceFuseRatingReasonWhyNot\", condition: () => this.viewModel.applianceFuseRatingReasonWhyNotVisible },\n            { property: \"viewModel.isPartP\", condition: () => this.viewModel.isPartPVisible },\n            { property: \"viewModel.partPReason\", condition: () => this.viewModel.partPReasonVisible },\n            { property: \"viewModel.workedOnLightingCircuit\", condition: () => this.viewModel.workedOnLightingCircuitVisible },\n            { property: \"viewModel.cpcInLightingCircuitOk\", condition: () => this.viewModel.cpcInLightingCircuitOkVisible },\n            { property: \"viewModel.installationSatisfactory\", condition: () => this.viewModel.installationSatisfactoryVisible },\n            { property: \"viewModel.microwaveLeakageReading\", condition: () => this.viewModel.microwaveLeakageReadingVisible && !this.viewModel.showMicrowaveLeakageReadingReasonWhyNot },\n            { property: \"viewModel.microwaveLeakageReadingReasonWhyNot\", condition: () => this.viewModel.microwaveLeakageReadingReasonWhyNotVisible },\n            { property: \"viewModel.applianceSafe\", condition: () => this.viewModel.applianceSafeVisible },\n            { property: \"viewModel.applianceInstallationSatisfactory\", condition: () => this.viewModel.applianceInstallationSatisfactoryVisible },\n            { property: \"viewModel.report\", condition: () => this.viewModel.reportFieldsMandatory },\n            { property: \"viewModel.conditionAsLeft\", condition: () => this.viewModel.reportFieldsMandatory },\n            { property: \"viewModel.cappedTurnedOff\", condition: () => this.viewModel.reportFieldsMandatory },\n            { property: \"viewModel.labelAttachedRemoved\", condition: () => this.viewModel.reportFieldsMandatory },\n            { property: \"viewModel.ownedByCustomer\", condition: () => this.viewModel.reportFieldsMandatory },\n            { property: \"viewModel.letterLeft\", condition: () => this.viewModel.reportFieldsMandatory },\n            { property: \"viewModel.signatureObtained\", condition: () => this.viewModel.reportFieldsMandatory }\n        ]);\n    }\n}\n"],"sourceRoot":"../../../.."}