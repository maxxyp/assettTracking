{"version":3,"sources":["hema/presentation/modules/appliances/otherSafety.ts"],"names":[],"mappings":"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","file":"otherSafety.js","sourcesContent":["import { BindingEngine, inject } from \"aurelia-framework\";\nimport { Router, Redirect } from \"aurelia-router\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { Subscription } from \"aurelia-event-aggregator\";\nimport { ILabelService } from \"../../../business/services/interfaces/ILabelService\";\nimport { IJobService } from \"../../../business/services/interfaces/IJobService\";\nimport { IValidationService } from \"../../../business/services/interfaces/IValidationService\";\nimport { IBusinessRuleService } from \"../../../business/services/interfaces/IBusinessRuleService\";\nimport { IApplianceService } from \"../../../business/services/interfaces/IApplianceService\";\nimport { ICatalogService } from \"../../../business/services/interfaces/ICatalogService\";\nimport { EditableViewModel } from \"../../models/editableViewModel\";\nimport { OtherSafetyViewModel } from \"./viewModels/otherSafetyViewModel\";\nimport { OtherUnsafetyViewModel } from \"./viewModels/otherUnsafetyViewModel\";\nimport { Appliance } from \"../../../business/models/appliance\";\nimport { IApplianceOtherSafetyFactory } from \"../../factories/interfaces/IApplianceOtherSafetyFactory\";\nimport { ButtonListItem } from \"../../../../common/ui/elements/models/buttonListItem\";\nimport { IEngineerService } from \"../../../business/services/interfaces/IEngineerService\";\nimport { DialogService } from \"aurelia-dialog\";\nimport { CatalogConstants } from \"../../../business/services/constants/catalogConstants\";\nimport { YesNoNa } from \"../../../business/models/yesNoNa\";\nimport { JobService } from \"../../../business/services/jobService\";\nimport { EngineerService } from \"../../../business/services/engineerService\";\nimport { LabelService } from \"../../../business/services/labelService\";\nimport { ApplianceService } from \"../../../business/services/applianceService\";\nimport { ValidationService } from \"../../../business/services/validationService\";\nimport { BusinessRuleService } from \"../../../business/services/businessRuleService\";\nimport { CatalogService } from \"../../../business/services/catalogService\";\nimport { ApplianceOtherSafetyFactory } from \"../../factories/applianceOtherSafetyFactory\";\nimport { AppliancePageHelper } from \"./appliancePageHelper\";\nimport { UnsafeReason } from \"../../../business/models/unsafeReason\";\nimport { ISafetyNoticeStatus } from \"../../../business/models/reference/ISafetyNoticeStatus\";\n\n@inject(JobService, EngineerService, LabelService, ApplianceService, Router,\n    EventAggregator, DialogService, ValidationService, BusinessRuleService, CatalogService, BindingEngine, ApplianceOtherSafetyFactory)\nexport class OtherSafety extends EditableViewModel {\n    public otherSafetyViewModel: OtherSafetyViewModel;\n    public otherUnsafeViewModel: OtherUnsafetyViewModel;\n    public appliance: Appliance;\n    public applianceId: string;\n    public jobId: string;\n    // public unsafeReasonLabels: string[];\n\n    public didYouWorkOnApplianceLookup: ButtonListItem[];\n    public didYouVisuallyCheckLookup: ButtonListItem[];\n    public isApplianceSafeLookup: ButtonListItem[];\n    public toCurrentStandardsLookup: ButtonListItem[];\n\n    public conditionAsLeftLookup: ButtonListItem[];\n    public cappedTurnedOffLookup: ButtonListItem[];\n    public labelAttachedRemovedLookup: ButtonListItem[];\n    public ownedByCustomerLookup: ButtonListItem[];\n    public letterLeftLookup: ButtonListItem[];\n    public signatureObtainedLookup: ButtonListItem[];\n\n    public disableToCurrentStandards: boolean;\n    public disableApplianceSafe: boolean;\n\n    public unsafeReasons: UnsafeReason[];\n\n    private _showToasts: boolean;\n\n    private _applianceService: IApplianceService;\n    private _applianceOtherSafetyFactory: IApplianceOtherSafetyFactory;\n    private _bindingEngine: BindingEngine;\n    private _otherSafetySubscriptions: Subscription[];\n    private _safetyNoticeStatus: ISafetyNoticeStatus[];\n\n    public constructor(\n        jobService: IJobService,\n        engineerService: IEngineerService,\n        labelService: ILabelService,\n        applianceService: IApplianceService,\n        router: Router,\n        eventAggregator: EventAggregator,\n        dialogService: DialogService,\n        validationService: IValidationService,\n        businessRulesService: IBusinessRuleService,\n        catalogService: ICatalogService,\n        bindingEngine: BindingEngine,\n        applianceOtherSafetyFactory: IApplianceOtherSafetyFactory) {\n        super(jobService, engineerService, labelService, eventAggregator, dialogService, validationService, businessRulesService, catalogService);\n        this._applianceService = applianceService;\n        this._applianceOtherSafetyFactory = applianceOtherSafetyFactory;\n        this._bindingEngine = bindingEngine;\n        // this.unsafeReasonLabels = [];\n        this.unsafeReasons = [];\n        this.disableApplianceSafe = false;\n        this._safetyNoticeStatus = [];\n    }\n\n    public canActivateAsync(...rest: any[]): Promise<boolean | Redirect> {\n        return AppliancePageHelper.checkApplianceSafetyType(this._applianceService, rest);\n    }\n\n    public activateAsync(params: { applianceId: string, jobId: string }): Promise<any> {\n        this.applianceId = params.applianceId;\n        this.jobId = params.jobId;\n        if (this._isCleanInstance) {\n            return this.loadBusinessRules()\n                .then(() => this.buildValidationRules())\n                .then(() => this.loadCatalogs())\n                .then(() => this.load())\n                .then(() => this.showContent());\n        } else {\n            return this.load();\n        }\n    }\n\n    public deactivateAsync(): Promise<void> {\n        this._showToasts = false;\n        this.removeObservables();\n        return Promise.resolve();\n    }\n\n    public unsafeSituation(): void {\n        if (this.otherSafetyViewModel) {\n            this.otherSafetyViewModel.isApplianceSafe = false;\n        }\n    }\n\n    protected saveModel(): Promise<void> {\n        this.otherSafetyViewModel.dataState = this.getFinalDataState();\n        this.appliance.safety.applianceOtherSafety = this._applianceOtherSafetyFactory.createApplianceOtherSafetyBusinessModel(this.otherSafetyViewModel, this.appliance.isSafetyRequired);\n        this.appliance.safety.applianceOtherUnsafeDetail = this._applianceOtherSafetyFactory.createApplianceOtherUnsafeBusinessModel(this.otherUnsafeViewModel);\n        return this._applianceService.saveApplianceSafetyDetails(this.jobId, this.appliance.id, this.appliance.safety, false, false);\n    }\n\n    protected loadModel(): Promise<void> {\n        return this._applianceService.getAppliance(this.jobId, this.applianceId)\n            .then((appliance) => {\n                if (appliance) {\n                    this.appliance = appliance;\n\n                    this.otherSafetyViewModel = this._applianceOtherSafetyFactory.createApplianceOtherSafetyViewModel(appliance.safety.applianceOtherSafety, appliance.isSafetyRequired);\n                    this.otherUnsafeViewModel = this._applianceOtherSafetyFactory.createApplianceOtherUnsafeViewModel(appliance.safety.applianceOtherUnsafeDetail);\n                    this.setInitialDataState(this.otherSafetyViewModel.dataStateId, this.otherSafetyViewModel.dataState);\n                } else {\n                    this.setNewDataState(\"appliances\");\n                }\n            })\n            .then(() => this.removeObservables())\n            .then(() => this.initOtherSafetyStatus())\n            .then(() => this.setObservables())\n            .then(() => {\n                this._showToasts = true;\n            });\n    }\n\n    protected clearModel(): Promise<void> {\n        this.removeObservables();\n        this.resetLocalModels();\n        this.initOtherSafetyStatus();\n        this.otherSafetyViewModel.workedOnAppliance = undefined;\n        this.setObservables();\n\n        return this.validateAllRules();\n    }\n\n    private hasMandatoryUnsafeReasons(): boolean {\n        return this.unsafeReasons && this.unsafeReasons.filter(x => x.isMandatory).length > 0;\n    }\n\n    private hasAtLeastOneUnsafeFieldPopulated(): boolean {\n        if (this.otherUnsafeViewModel &&\n            (this.otherUnsafeViewModel.conditionAsLeft || this.otherUnsafeViewModel.cappedTurnedOff || this.otherUnsafeViewModel.labelAttachedRemoved\n                || this.otherUnsafeViewModel.ownedByCustomer || this.otherUnsafeViewModel.letterLeft || this.otherUnsafeViewModel.signatureObtained\n                || this.otherUnsafeViewModel.report)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    private populateUnsafeReasons(isToastRequired: boolean): Promise<void> {\n\n        let latestUnsafeReasons: UnsafeReason[] = [];\n\n        // worked on appliance unsafe check\n\n        // visually check relight unsafe check\n        if (this.otherSafetyViewModel.didYouVisuallyCheck === false) {\n            latestUnsafeReasons.push(new UnsafeReason(\"didYouVisuallyCheck\", null, null, true));\n        }\n\n        // is appliance safe unsafe check\n        if (this.otherSafetyViewModel.isApplianceSafe === false) {\n            latestUnsafeReasons.push(new UnsafeReason(\"isApplianceSafe\", null, null, true));\n        }\n\n        // current standards unsafe check\n        if (this.otherSafetyViewModel.toCurrentStandards === YesNoNa.No) {\n            latestUnsafeReasons.push(new UnsafeReason(\"toCurrentStandards\", null, null, true));\n        }\n\n        let currentWarnings: string[] = [];\n\n        if (this.unsafeReasons) {\n            this.unsafeReasons.forEach(reason => {\n                currentWarnings.push(reason.label);\n            });\n        }\n\n        this.unsafeReasons = latestUnsafeReasons;\n\n        if (this.unsafeReasons.length > 0) {\n            /* If there are reasons that we didn't have before then show a toast for them */\n            this.unsafeReasons.forEach(reason => {\n                reason.label = this.getLabel(reason.lookupId);\n                if (isToastRequired && currentWarnings.indexOf(reason.label) === -1 && this._showToasts) {\n                    this.showWarning(this.getLabel(\"unsafeSituation\"), reason.label);\n                }\n            });\n        } else {\n            // clear unsafe fields if there are no unsafe reasons\n            this.clearUnSafeFields();\n        }\n\n        return this.validateAllRules();\n    }\n\n    private obserWorkedOnAppliance(newValue: boolean, onload: boolean): void {\n\n        if (newValue === false && !onload) {\n            this.clearForWorkOnAppliance(onload);\n        }\n    }\n\n    private obserApplianceSafe(newValue: boolean, oldValue: boolean, onload: boolean): void {\n        this.populateUnsafeReasons(true);\n\n        if (this.otherSafetyViewModel.isApplianceSafe === false) {\n            this.otherSafetyViewModel.toCurrentStandards = YesNoNa.Yes;\n            this.disableToCurrentStandards = true;\n        } else if (!onload) {\n            this.otherSafetyViewModel.toCurrentStandards = undefined;\n            this.disableToCurrentStandards = false;\n        }\n    }\n\n    private obserToCurrentStandards(newValue: YesNoNa, oldValue: YesNoNa): void {\n        this.populateUnsafeReasons(true);\n    }\n\n    private obserDidYouVisuallyCheck(newValue: boolean, onload: boolean): void {\n        if (newValue !== undefined) {\n            this.populateUnsafeReasons(true);\n            this.otherSafetyViewModel.isApplianceSafe = (newValue) ? this.otherSafetyViewModel.isApplianceSafe : false;\n            this.disableApplianceSafe = !newValue;\n        }\n    }\n\n    private obserConditionAsLeft(newValue: string, oldValue: string, onload: boolean): void {\n        switch (newValue) {\n            case \"ID\": // opt IMMEDIATELY DANGEROUS\n            case \"AR\": // opt AT RISK\n                this.filterLabelAttachedRemovedLookup(\"A\");\n                break;\n            case \"SS\": // opt NOT TO CURRENT STD\n            case \"XC\": // opt NOT COMMISSIONED\n                this.filterLabelAttachedRemovedLookup(\"N\");\n                break;\n            default:\n                this.filterLabelAttachedRemovedLookup(undefined);\n                break;\n        }\n\n        if (!!newValue\n            && !onload\n            && !!this.otherUnsafeViewModel.labelAttachedRemoved\n            && this.labelAttachedRemovedLookup.some(x => x.value !== this.otherUnsafeViewModel.labelAttachedRemoved)) {\n            this.otherUnsafeViewModel.labelAttachedRemoved = undefined;\n        }\n    }\n\n    private filterLabelAttachedRemovedLookup(cat: string): void {\n        if (cat) {\n            this.labelAttachedRemovedLookup = this.toButtonListItemArray(this._safetyNoticeStatus.filter(x => x.safetyNoticeStatusCategory === cat),\n                CatalogConstants.SAFETY_NOTICE_STATUS_ID, CatalogConstants.SAFETY_NOTICE_STATUS_DESCRIPTION);\n        } else {\n            this.labelAttachedRemovedLookup = this.toButtonListItemArray(this._safetyNoticeStatus,\n                CatalogConstants.SAFETY_NOTICE_STATUS_ID, CatalogConstants.SAFETY_NOTICE_STATUS_DESCRIPTION);\n        }\n    }\n\n    private setObservables(): void {\n        if (this.otherSafetyViewModel) {\n            this._otherSafetySubscriptions.push(this._bindingEngine.propertyObserver(this.otherSafetyViewModel, \"workedOnAppliance\")\n                .subscribe((newValue: boolean) => {\n                    this.obserWorkedOnAppliance(newValue, false);\n                }));\n            this._otherSafetySubscriptions.push(this._bindingEngine.propertyObserver(this.otherSafetyViewModel, \"isApplianceSafe\")\n                .subscribe((newValue: boolean) => {\n                    this.obserApplianceSafe(newValue, false, false);\n                }));\n\n            this._otherSafetySubscriptions.push(this._bindingEngine.propertyObserver(this.otherSafetyViewModel, \"toCurrentStandards\")\n                .subscribe((newValue: YesNoNa) => {\n                    this.obserToCurrentStandards(newValue, YesNoNa.Na);\n                }));\n            this._otherSafetySubscriptions.push(this._bindingEngine.propertyObserver(this.otherSafetyViewModel, \"didYouVisuallyCheck\")\n                .subscribe((newValue: boolean) => {\n                    this.obserDidYouVisuallyCheck(newValue, false);\n                }));\n\n            this._otherSafetySubscriptions.push(this._bindingEngine.propertyObserver(this.otherUnsafeViewModel, \"conditionAsLeft\")\n                .subscribe((newValue: string, oldValue: string) => {\n                    this.obserConditionAsLeft(newValue, oldValue, false);\n                }));\n        }\n    }\n\n    private initOtherSafetyStatus(): void {\n        if (this.otherSafetyViewModel) {\n            this.obserWorkedOnAppliance(this.otherSafetyViewModel.workedOnAppliance, true);\n            this.obserDidYouVisuallyCheck(this.otherSafetyViewModel.didYouVisuallyCheck, true);\n            this.obserApplianceSafe(this.otherSafetyViewModel.isApplianceSafe, true, true);\n            this.obserToCurrentStandards(this.otherSafetyViewModel.toCurrentStandards, null);\n            this.obserConditionAsLeft(this.otherUnsafeViewModel.conditionAsLeft, null, true);\n        }\n    }\n\n    private isCurrentStandardsRequired(): boolean {\n        if (this.disableToCurrentStandards === true) {\n            return false;\n        } else if (this.otherSafetyViewModel && this.appliance && this.appliance.isSafetyRequired\n            && (this.otherSafetyViewModel.isApplianceSafe === false || this.otherSafetyViewModel.toCurrentStandards !== YesNoNa.Yes)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    private loadCatalogs(): Promise<void> {\n        return Promise.all([\n            this._catalogService.getSafetyActions()\n                .then(safetyActions => {\n                    this.cappedTurnedOffLookup = this.toButtonListItemArray(safetyActions, CatalogConstants.SAFETY_ACTION_ID, CatalogConstants.SAFETY_ACTION_DESCRIPTION);\n                }),\n            this._catalogService.getSafetyNoticeTypes()\n                .then(safetyNoticeTypes => {\n                    this.conditionAsLeftLookup = this.toButtonListItemArray(safetyNoticeTypes, CatalogConstants.SAFETY_NOTICE_TYPE_ID, CatalogConstants.SAFETY_NOTICE_TYPE_DESCRIPTION);\n                }),\n            this._catalogService.getSafetyNoticeStatuses()\n                .then(safetyNoticeStatus => {\n                    this._safetyNoticeStatus = safetyNoticeStatus;\n                }),\n            this.buildNoYesList().then(noYes => this.didYouWorkOnApplianceLookup = noYes),\n            this.buildNoYesList().then(noYes => this.didYouVisuallyCheckLookup = noYes),\n            this.buildNoYesList().then(noYes => this.isApplianceSafeLookup = noYes),\n            this.buildNoNaList().then(noNaList => this.toCurrentStandardsLookup = noNaList),\n            this.buildNoYesList().then(noYes => this.ownedByCustomerLookup = noYes),\n            this.buildNoYesList().then(noYes => this.letterLeftLookup = noYes),\n            this.buildNoYesList().then(noYes => this.signatureObtainedLookup = noYes)\n        ])\n            .then(() => this.filterLabelAttachedRemovedLookup(undefined));\n    }\n\n    private hasAtLeastOneFieldPopulated(): boolean {\n        if (this.otherSafetyViewModel &&\n            ((this.otherSafetyViewModel.workedOnAppliance !== null && this.otherSafetyViewModel.workedOnAppliance !== undefined)\n                || (this.otherSafetyViewModel.didYouVisuallyCheck !== null && this.otherSafetyViewModel.didYouVisuallyCheck !== undefined)\n                || (this.otherSafetyViewModel.isApplianceSafe !== null && this.otherSafetyViewModel.isApplianceSafe !== undefined)\n                || (this.otherSafetyViewModel.toCurrentStandards !== null && this.otherSafetyViewModel.toCurrentStandards !== undefined))) {\n            return true;\n        }\n\n        return false;\n    }\n\n    private buildValidationRules(): Promise<void> {\n        return this.buildValidation([\n            {\n                property: \"otherSafetyViewModel.workedOnAppliance\", condition: () => (this.otherSafetyViewModel && this.appliance && this.appliance.isSafetyRequired)\n                    || this.hasAtLeastOneFieldPopulated()\n            },\n            {\n                property: \"otherSafetyViewModel.didYouVisuallyCheck\", condition: () => (this.otherSafetyViewModel && this.appliance && this.appliance.isSafetyRequired)\n                    || this.hasAtLeastOneFieldPopulated()\n            },\n            {\n                property: \"otherSafetyViewModel.isApplianceSafe\", condition: () => (this.otherSafetyViewModel && this.appliance && this.appliance.isSafetyRequired)\n                    || this.hasAtLeastOneFieldPopulated()\n            },\n            {\n                property: \"otherSafetyViewModel.toCurrentStandards\", condition: () => (this.isCurrentStandardsRequired())\n                    || this.hasAtLeastOneFieldPopulated()\n            },\n            { property: \"otherUnsafeViewModel.report\", condition: () => this.hasMandatoryUnsafeReasons() || this.hasAtLeastOneUnsafeFieldPopulated() },\n            { property: \"otherUnsafeViewModel.conditionAsLeft\", condition: () => this.hasMandatoryUnsafeReasons() || this.hasAtLeastOneUnsafeFieldPopulated() },\n            { property: \"otherUnsafeViewModel.cappedTurnedOff\", condition: () => this.hasMandatoryUnsafeReasons() || this.hasAtLeastOneUnsafeFieldPopulated() },\n            { property: \"otherUnsafeViewModel.labelAttachedRemoved\", condition: () => this.hasMandatoryUnsafeReasons() || this.hasAtLeastOneUnsafeFieldPopulated() },\n            { property: \"otherUnsafeViewModel.ownedByCustomer\", condition: () => this.hasMandatoryUnsafeReasons() || this.hasAtLeastOneUnsafeFieldPopulated() },\n            { property: \"otherUnsafeViewModel.letterLeft\", condition: () => this.hasMandatoryUnsafeReasons() || this.hasAtLeastOneUnsafeFieldPopulated() },\n            { property: \"otherUnsafeViewModel.signatureObtained\", condition: () => this.hasMandatoryUnsafeReasons() || this.hasAtLeastOneUnsafeFieldPopulated() },\n        ]);\n    }\n\n    private removeObservables(): void {\n        if (this._otherSafetySubscriptions) {\n            this._otherSafetySubscriptions.forEach(x => {\n                if (x) {\n                    x.dispose();\n                }\n            });\n        }\n        this._otherSafetySubscriptions = [];\n    }\n\n    private resetLocalModels(): void {\n        this.otherSafetyViewModel.didYouVisuallyCheck = undefined;\n        this.otherSafetyViewModel.isApplianceSafe = undefined;\n        this.otherSafetyViewModel.toCurrentStandards = undefined;\n        this.clearUnSafeFields();\n    }\n\n    private clearUnSafeFields(): void {\n        this.unsafeReasons = [];\n        this.otherUnsafeViewModel.report = undefined;\n        this.otherUnsafeViewModel.conditionAsLeft = undefined;\n        this.otherUnsafeViewModel.labelAttachedRemoved = undefined;\n        this.otherUnsafeViewModel.ownedByCustomer = undefined;\n        this.otherUnsafeViewModel.letterLeft = undefined;\n        this.otherUnsafeViewModel.signatureObtained = undefined;\n        this.otherUnsafeViewModel.cappedTurnedOff = undefined;\n    }\n\n    private clearForWorkOnAppliance(onload: boolean): void {\n        this.removeObservables();\n        this.resetLocalModels();\n        this.initOtherSafetyStatus();\n        this.setObservables();\n    }\n}\n"],"sourceRoot":"../../../.."}