{"version":3,"sources":["hema/presentation/modules/partsCollection/partsCollectionDetails.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAcA;QAA4C,0CAAa;QAOrD,gCAAY,YAA2B,EACnC,eAAgC,EAChC,aAA4B,EAC5B,UAAuB,EACvB,OAAgC;YAJpC,YAKI,kBAAM,YAAY,EAAE,eAAe,EAAE,aAAa,CAAC,SAGtD;YAFG,KAAI,CAAC,WAAW,GAAG,UAAU,CAAC;YAC9B,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;;QAC5B,CAAC;QAEY,8CAAa,GAA1B,UAA2B,MAA0B;;;;;;;;4BAE7C,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;4BAC1C,qBAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,EAAA;;4BAA5D,aAAa,GAAG,SAA4C;4BAClE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,8BAA8B,CAAC,aAAa,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,KAAK,KAAI,CAAC,MAAM,EAAtB,CAAsB,CAAC,CAAC,CAAC;4BACjH,IAAI,CAAC,WAAW,EAAE,CAAC;4BACnB,sBAAO,OAAO,CAAC,OAAO,EAAE,EAAC;;;4BAEzB,IAAI,CAAC,SAAS,CAAC,IAAI,qCAAiB,CAAC,IAAI,EAAE,wBAAwB,EAAE,mCAAmC,EAAE,EAAE,EAAE,GAAC,CAAC,CAAC,CAAC;4BAClH,sBAAO,OAAO,CAAC,OAAO,EAAE,EAAC;;;;;SAEhC;QA5BQ,sBAAsB;YADlC,0BAAM,CAAC,2BAAY,EAAE,0CAAe,EAAE,8BAAa,EAAE,uBAAU,EAAE,+CAAsB,CAAC;qDAShE,0CAAe;gBACjB,8BAAa;WATvB,sBAAsB,CA6BlC;QAAD,6BAAC;KA7BD,AA6BC,CA7B2C,6BAAa,GA6BxD;IA7BY,wDAAsB","file":"partsCollectionDetails.js","sourcesContent":["import { DialogService } from \"aurelia-dialog\";\nimport { JobService } from \"../../../business/services/jobService\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { LabelService } from \"../../../business/services/labelService\";\nimport { BaseViewModel } from \"../../models/baseViewModel\";\nimport { inject } from \"aurelia-framework\";\nimport { IPartsCollectionFactory } from \"../../factories/interfaces/IPartsCollectionFactory\";\nimport { PartsCollectionFactory } from \"../../factories/partsCollectionFactory\";\nimport { ILabelService } from \"../../../business/services/interfaces/ILabelService\";\nimport { IJobService } from \"../../../business/services/interfaces/IJobService\";\nimport { PartCollectionDetailViewModel } from \"../../models/partCollectionDetailViewModel\";\nimport { BusinessException } from \"../../../business/models/businessException\";\n\n@inject(LabelService, EventAggregator, DialogService, JobService, PartsCollectionFactory)\nexport class PartsCollectionDetails extends BaseViewModel {\n\n    public viewModel: PartCollectionDetailViewModel[];\n    public isDone: boolean;\n    private _factory: IPartsCollectionFactory;\n    private _jobService: IJobService;\n\n    constructor(labelService: ILabelService,\n        eventAggregator: EventAggregator,\n        dialogService: DialogService,\n        jobService: IJobService,\n        factory: IPartsCollectionFactory) {\n        super(labelService, eventAggregator, dialogService);\n        this._jobService = jobService;\n        this._factory = factory;\n    }\n\n    public async activateAsync(params: { isDone: string }): Promise<void> {\n        try {\n            this.isDone = params && params.isDone === \"true\" ? true : false;\n            const businessModel = await this._jobService.getPartsCollections();\n            this.viewModel = this._factory.createPartsCollectionViewModel(businessModel.filter(x => x.done === this.isDone));\n            this.showContent();\n            return Promise.resolve();\n        } catch (e) {\n            this.showError(new BusinessException(this, \"PartsCollectionDetails\", \"Error while loading parts details\", [], e));\n            return Promise.resolve();\n        }\n    }\n}\n"],"sourceRoot":"../../../.."}