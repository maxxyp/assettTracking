{"version":3,"sources":["hema/presentation/modules/appointment/appointmentBookingMain.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAeA;QAA4C,0CAAa;QAUrD,gCAAY,YAA2B,EAC3B,eAAgC,EAChC,aAA4B,EAC5B,UAAuB,EACvB,iBAAqC;YAJjD,YAKI,kBAAM,YAAY,EAAE,eAAe,EAAE,aAAa,CAAC,SAKtD;YAHG,KAAI,CAAC,WAAW,GAAG,UAAU,CAAC;YAC9B,KAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;YAC5C,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,+BAA+B,EAAE,CAAC;;QAC9D,CAAC;QAEM,gDAAe,GAAtB,UAAuB,MAA2B,EAAE,WAAmB;YACnE,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACjC,CAAC;QAEM,8CAAa,GAApB,UAAqB,MAA0C;YAA/D,iBAMC;YALG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAA,GAAG;gBACjD,KAAI,CAAC,GAAG,GAAG,GAAG,CAAC;gBACf,KAAI,CAAC,mBAAmB,GAAG,KAAI,CAAC,kBAAkB,CAAC,yBAAyB,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;gBACvF,KAAI,CAAC,WAAW,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,gEAA+B,GAAtC;YACI,MAAM,CAAC;gBACH;oBACI,KAAK,EAAE,EAAE;oBACT,QAAQ,EAAE,qBAAqB;iBAClC;gBACD;oBACI,KAAK,EAAE,qBAAqB;oBAC5B,QAAQ,EAAE,0DAA0D;oBACpE,IAAI,EAAE,qBAAqB;oBAC3B,GAAG,EAAE,KAAK;oBACV,KAAK,EAAE,qBAAqB;oBAC5B,QAAQ,EAAE;wBACN,mBAAmB,EAAE,IAAI;qBAC5B;iBACJ;aACJ,CAAC;QACN,CAAC;QAnDQ,sBAAsB;YADlC,qCAAM,CAAC,2BAAY,EAAE,0CAAe,EAAE,8BAAa,EAAE,uBAAU,EAAE,qCAAiB,CAAC;qDAYnD,0CAAe;gBACjB,8BAAa;WAZ/B,sBAAsB,CAoDlC;QAAD,6BAAC;KApDD,AAoDC,CApD2C,6BAAa,GAoDxD;IApDY,wDAAsB","file":"appointmentBookingMain.js","sourcesContent":["import {inject} from \"aurelia-dependency-injection\";\r\nimport {RouterConfiguration, Router, RouteConfig} from \"aurelia-router\";\r\nimport {JobService} from \"../../../business/services/jobService\";\r\nimport {IJobService} from \"../../../business/services/interfaces/IJobService\";\r\nimport {LabelService} from \"../../../business/services/labelService\";\r\nimport {BaseViewModel} from \"../../models/baseViewModel\";\r\nimport {ILabelService} from \"../../../business/services/interfaces/ILabelService\";\r\nimport {Job as JobBusinessModel} from \"../../../business/models/job\";\r\nimport {EventAggregator} from \"aurelia-event-aggregator\";\r\nimport {DialogService} from \"aurelia-dialog\";\r\nimport {JobSummaryViewModel} from \"../../models/jobSummaryViewModel\";\r\nimport {JobSummaryFactory} from \"../../factories/jobSummaryFactory\";\r\nimport {IJobSummaryFactory} from \"../../factories/interfaces/IJobSummaryFactory\";\r\n\r\n@inject(LabelService, EventAggregator, DialogService, JobService, JobSummaryFactory)\r\nexport class AppointmentBookingMain extends BaseViewModel {\r\n\r\n    public childRoutes: RouteConfig[];\r\n\r\n    public jobSummaryViewModel: JobSummaryViewModel;\r\n    public job: JobBusinessModel;\r\n\r\n    private _jobSummaryFactory: IJobSummaryFactory;\r\n    private _jobService: IJobService;\r\n\r\n    constructor(labelService: ILabelService,\r\n                eventAggregator: EventAggregator,\r\n                dialogService: DialogService,\r\n                jobService: IJobService,\r\n                jobSummaryFactory: IJobSummaryFactory) {\r\n        super(labelService, eventAggregator, dialogService);\r\n\r\n        this._jobService = jobService;\r\n        this._jobSummaryFactory = jobSummaryFactory;\r\n        this.childRoutes = this.getAppointmentBookingChildRoute();\r\n    }\r\n\r\n    public configureRouter(config: RouterConfiguration, childRouter: Router): void {\r\n        config.map(this.childRoutes);\r\n    }\r\n\r\n    public activateAsync(params: {jobId: string, addressId: string}): Promise<void> {\r\n        return this._jobService.getJob(params.jobId).then(job => {\r\n            this.job = job;\r\n            this.jobSummaryViewModel = this._jobSummaryFactory.createJobSummaryViewModel(this.job);\r\n            this.showContent();\r\n        });\r\n    }\r\n\r\n    public getAppointmentBookingChildRoute(): RouteConfig[] {\r\n        return [\r\n            {\r\n                route: \"\",\r\n                redirect: \"book-an-appointment\"\r\n            },\r\n            {\r\n                route: \"book-an-appointment\",\r\n                moduleId: \"hema/presentation/modules/appointment/appointmentBooking\",\r\n                name: \"book-an-appointment\",\r\n                nav: false,\r\n                title: \"Book an Appointment\",\r\n                settings: {\r\n                    canEditCancelledJob: true\r\n                }\r\n            }\r\n        ];\r\n    }\r\n}\r\n"],"sourceRoot":"../../../.."}