{"version":3,"sources":["hema/presentation/modules/jobsList/jobsList.ts"],"names":[],"mappings":"AAAA,wDAAwD;;;;;;;;;;;;;;;;;;;;;;;IAcxD;QAA8B,4BAAa;QAKvC,kBAAY,YAA2B,EAC3B,eAAgC,EAChC,aAA4B,EAC5B,eAAiC;YAH7C,YAII,kBAAM,YAAY,EAAE,eAAe,EAAE,aAAa,CAAC,SAGtD;YADG,KAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;;QAC5C,CAAC;QAEM,kCAAe,GAAtB,UAAuB,MAA2B,EAAE,WAAmB;YACnE,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;YAC1B,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QACtC,CAAC;QAEM,gCAAa,GAApB;YACI,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAC7B,CAAC;QAEM,iCAAc,GAArB;YAAA,iBAuFC;YAtFG,MAAM,CAAC;gBACH;oBACI,KAAK,EAAE,EAAE;oBACT,kBAAkB,EAAE,UAAC,WAAkC;wBACnD,yJAAyJ;wBACzJ,MAAM,CAAC,KAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE;6BACpC,IAAI,CAAC,UAAA,UAAU;4BACZ,WAAW,CAAC,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC;wBACvE,CAAC,CAAC,CAAC;oBACX,CAAC;iBACJ;gBACD;oBACI,KAAK,EAAE,aAAa;oBACpB,QAAQ,EAAE,+CAA+C;oBACzD,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,aAAa;oBACpB,QAAQ,EAAE,EAAE;iBACf;gBACD;oBACI,KAAK,EAAE,OAAO;oBACd,QAAQ,EAAE,yCAAyC;oBACnD,IAAI,EAAE,OAAO;oBACb,GAAG,EAAE,IAAI;oBACT,KAAK,EAAE,iBAAiB;oBACxB,QAAQ,EAAE,EAAE;iBACf;gBACD;oBACI,KAAK,EAAE,UAAU;oBACjB,QAAQ,EAAE,yCAAyC;oBACnD,IAAI,EAAE,UAAU;oBAChB,GAAG,EAAE,IAAI;oBACT,KAAK,EAAE,gBAAgB;oBACvB,QAAQ,EAAE,EAAE;iBACf;gBACD;oBACI,KAAK,EAAE,iBAAiB;oBACxB,IAAI,EAAE,SAAS;oBACf,QAAQ,EAAE,iDAAiD;oBAC3D,GAAG,EAAE,KAAK;oBACV,KAAK,EAAE,aAAa;oBACpB,QAAQ,EAAE;wBACN,cAAc,EAAE,UAAU;qBAC7B;iBACJ;gBACD;oBACI,KAAK,EAAE,2BAA2B;oBAClC,IAAI,EAAE,4BAA4B;oBAClC,QAAQ,EAAE,kEAAkE;oBAC5E,GAAG,EAAE,KAAK;oBACV,KAAK,EAAE,kBAAkB;oBACzB,QAAQ,EAAE;wBACN,cAAc,EAAE,UAAU;qBAC7B;iBACJ;gBACD;oBACI,KAAK,EAAE,cAAc;oBACrB,IAAI,EAAE,KAAK;oBACX,QAAQ,EAAE,iDAAiD;oBAC3D,GAAG,EAAE,KAAK;oBACV,KAAK,EAAE,aAAa;oBACpB,QAAQ,EAAE;wBACN,cAAc,EAAE,OAAO;qBAC1B;iBACJ;gBACD;oBACI,KAAK,EAAE,kBAAkB;oBACzB,IAAI,EAAE,wBAAwB;oBAC9B,QAAQ,EAAE,kEAAkE;oBAC5E,GAAG,EAAE,KAAK;oBACV,KAAK,EAAE,kBAAkB;oBACzB,QAAQ,EAAE;wBACN,cAAc,EAAE,OAAO;qBAC1B;iBACJ;gBACD;oBACI,KAAK,EAAE,2BAA2B;oBAClC,IAAI,EAAE,gCAAgC;oBACtC,QAAQ,EAAE,uEAAuE;wBAC7E,EAAE;oBACN,GAAG,EAAE,KAAK;oBACV,KAAK,EAAE,kBAAkB;oBACzB,QAAQ,EAAE;wBACN,cAAc,EAAE,OAAO;qBAC1B;iBACJ;aACJ,CAAC;QACN,CAAC;QA/GQ,QAAQ;YADpB,0BAAM,CAAC,2BAAY,EAAE,0CAAe,EAAE,8BAAa,EAAE,iCAAe,CAAC;qDAOrC,0CAAe;gBACjB,8BAAa;WAP/B,QAAQ,CAgHpB;QAAD,eAAC;KAhHD,AAgHC,CAhH6B,6BAAa,GAgH1C;IAhHY,4BAAQ","file":"jobsList.js","sourcesContent":["/// <reference path=\"../../../../../typings/app.d.ts\" />\n\nimport {inject} from \"aurelia-framework\";\n\nimport {BaseViewModel} from \"../../models/baseViewModel\";\nimport {ILabelService} from \"../../../business/services/interfaces/ILabelService\";\nimport {LabelService} from \"../../../business/services/labelService\";\nimport {EventAggregator} from \"aurelia-event-aggregator\";\nimport {DialogService} from \"aurelia-dialog\";\nimport {EngineerService} from \"../../../business/services/engineerService\";\nimport {IEngineerService} from \"../../../business/services/interfaces/IEngineerService\";\nimport {Router, RouterConfiguration, RouteConfig, NavigationInstruction} from \"aurelia-router\";\n\n@inject(LabelService, EventAggregator, DialogService, EngineerService)\nexport class JobsList extends BaseViewModel {\n    public router: Router;\n\n    private _engineerService: IEngineerService;\n\n    constructor(labelService: ILabelService,\n                eventAggregator: EventAggregator,\n                dialogService: DialogService,\n                engineerService: IEngineerService) {\n        super(labelService, eventAggregator, dialogService);\n\n        this._engineerService = engineerService;\n    }\n\n    public configureRouter(config: RouterConfiguration, childRouter: Router): void {\n        this.router = childRouter;\n        config.map(this.getChildRoutes());\n    }\n\n    public attachedAsync(): Promise<void> {\n        this.showContent();\n        return Promise.resolve();\n    }\n\n    public getChildRoutes(): RouteConfig[] {\n        return [\n            {\n                route: \"\",\n                navigationStrategy: (instruction: NavigationInstruction) => {\n                    // user should be shown the worklist or should be able to do request work irrespective of any engineer status (except End of day) if the user is signedon\n                    return this._engineerService.isSignedOn()\n                        .then(isSignedOn => {\n                            instruction.config.redirect = isSignedOn ? \"to-do\" : \"not-working\";\n                        });\n                }\n            },\n            {\n                route: \"not-working\",\n                moduleId: \"hema/presentation/modules/jobsList/notWorking\",\n                name: \"not-working\",\n                title: \"Not Working\",\n                settings: {}\n            },\n            {\n                route: \"to-do\",\n                moduleId: \"hema/presentation/modules/jobsList/todo\",\n                name: \"to-do\",\n                nav: true,\n                title: \"View Jobs To Do\",\n                settings: {}\n            },\n            {\n                route: \"attended\",\n                moduleId: \"hema/presentation/modules/jobsList/done\",\n                name: \"attended\",\n                nav: true,\n                title: \"View Jobs Done\",\n                settings: {}\n            },\n            {\n                route: \"attended/:jobId\",\n                name: \"doneJob\",\n                moduleId: \"hema/presentation/modules/jobDetails/jobDetails\",\n                nav: false,\n                title: \"Job Details\",\n                settings: {\n                    tabGroupParent: \"attended\"\n                }\n            },\n            {\n                route: \"attended/parts-collection\",\n                name: \"donePartsCollectionDetails\",\n                moduleId: \"hema/presentation/modules/partsCollection/partsCollectionDetails\",\n                nav: false,\n                title: \"Parts Collection\",\n                settings: {\n                    tabGroupParent: \"attended\"\n                }\n            },\n            {\n                route: \"to-do/:jobId\",\n                name: \"job\",\n                moduleId: \"hema/presentation/modules/jobDetails/jobDetails\",\n                nav: false,\n                title: \"Job Details\",\n                settings: {\n                    tabGroupParent: \"to-do\"\n                }\n            },\n            {\n                route: \"parts-collection\",\n                name: \"partsCollectionDetails\",\n                moduleId: \"hema/presentation/modules/partsCollection/partsCollectionDetails\",\n                nav: false,\n                title: \"Parts Collection\",\n                settings: {\n                    tabGroupParent: \"to-do\"\n                }\n            },\n            {\n                route: \"vanstock-parts-collection\",\n                name: \"vanStockPartsCollectionDetails\",\n                moduleId: \"hema/presentation/modules/vanStockPartsCollection/partsCollectionMain\" +\n                    \"\",\n                nav: false,\n                title: \"Parts Collection\",\n                settings: {\n                    tabGroupParent: \"to-do\"\n                }\n            }\n        ];\n    }\n}\n"],"sourceRoot":"../../../.."}