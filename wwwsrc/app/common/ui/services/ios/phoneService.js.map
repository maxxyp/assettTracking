{"version":3,"sources":["common/ui/services/ios/phoneService.ts"],"names":[],"mappings":";;;;;;;;;;;;IAKA,IAAM,WAAW,GAAW,MAAM,CAAC;IACnC,IAAM,WAAW,GAAW,MAAM,CAAC;IAEnC,4CAA4C;IAE5C;QAII,sBAAY,WAAyB;YACjC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QACpC,CAAC;QAEM,+BAAQ,GAAf;YACI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACzD,CAAC;QAEM,sCAAe,GAAtB,UAAuB,KAAa,EAAE,IAAa;YAC/C,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC;iBAC/C,IAAI,CAAC,UAAA,MAAM;gBACR,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACV,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;gBACD,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;gBAC7E,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC,CAAC,CAAC;QACX,CAAC;QAEM,qCAAc,GAArB,UAAsB,eAAyB,EAAE,OAAe;YAC5D,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CAAC;iBAC/C,IAAI,CAAC,UAAA,MAAM;gBACR,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACV,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;gBACD,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,QAAQ,GAAG,kBAAkB,CAAC,OAAO,CAAC,EAAE,SAAS,CAAC,CAAC;gBACnI,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC,CAAC,CAAC;QACX,CAAC;QAhCQ,YAAY;YADxB,0BAAM,CAAC,yBAAW,CAAC;;WACP,YAAY,CAiCxB;QAAD,mBAAC;KAjCD,AAiCC,IAAA;IAjCY,oCAAY","file":"phoneService.js","sourcesContent":["import {inject} from \"aurelia-framework\";\nimport {IPhoneService} from \"../IPhoneService\";\nimport {AppLauncher} from \"../../../core/services/appLauncher\";\nimport {IAppLauncher} from \"../../../core/services/IAppLauncher\";\n\nconst IOS_TEL_URI: string = \"tel:\";\nconst IOS_SMS_URI: string = \"sms:\";\n\n// dependency on cordova-plugin-inappbrowser\n@inject(AppLauncher)\nexport class PhoneService implements IPhoneService {\n\n    private _appLauncher: IAppLauncher;\n\n    constructor(appLauncher: IAppLauncher) {\n        this._appLauncher = appLauncher;\n    }\n\n    public hasPhone(): Promise<boolean> {\n        return this._appLauncher.checkInstalled(IOS_TEL_URI);\n    }\n\n    public showPhoneCallUI(phone: string, name?: string): Promise<boolean> {\n        return this._appLauncher.checkInstalled(IOS_TEL_URI)\n            .then(result => {\n                if (!result) {\n                    return result;\n                }\n                cordova.InAppBrowser.open(IOS_TEL_URI + phone.replace(/\\s/g, \"\"), \"_system\");\n                return true;\n            });\n    }\n\n    public showPhoneSMSUI(recipientsPhone: string[], message: string): Promise<boolean> {\n        return this._appLauncher.checkInstalled(IOS_SMS_URI)\n            .then(result => {\n                if (!result) {\n                    return result;\n                }\n                cordova.InAppBrowser.open(IOS_SMS_URI + recipientsPhone[0].replace(/\\s/g, \"\") + \"&body=\" + encodeURIComponent(message), \"_system\");\n                return true;\n            });\n    }\n}\n"],"sourceRoot":"../../../.."}