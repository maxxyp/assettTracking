{"version":3,"sources":["common/ui/services/wua/phoneService.ts"],"names":[],"mappings":";;;IAEA;QAII;YACI,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACpD,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC;YACrD,CAAC;QACL,CAAC;QAEM,+BAAQ,GAAf;YACI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACpE,CAAC;QAEM,sCAAe,GAAtB,UAAuB,KAAa,EAAE,IAAa;YAAnD,iBAiBC;YAhBG,MAAM,CAAC,IAAI,OAAO,CAAU,UAAC,OAAO,EAAE,MAAM;gBACxC,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,KAAK,IAAI,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC;wBAChE,IAAI,CAAC;4BACD,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;4BACnE,OAAO,CAAC,IAAI,CAAC,CAAC;wBAClB,CAAC;wBAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;4BACX,OAAO,CAAC,KAAK,CAAC,CAAC;wBACnB,CAAC;oBACL,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,OAAO,CAAC,KAAK,CAAC,CAAC;oBACnB,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,OAAO,CAAC,KAAK,CAAC,CAAC;gBACnB,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QACM,qCAAc,GAArB,UAAsB,eAAyB,EAAE,OAAe;YAAhE,iBAwBC;YAvBG,MAAM,CAAC,IAAI,OAAO,CAAU,UAAC,OAAO,EAAE,MAAM;gBACxC,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,IAAI;wBACnB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW;wBAC/B,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;wBACzC,IAAI,WAAW,GAAQ,IAAI,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;wBAC7D,WAAW,CAAC,IAAI,GAAG,OAAO,CAAC;wBAC3B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BACtD,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;wBACpD,CAAC;wBACD,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,WAAW,CAAC;6BACzE,IAAI,CAAC;4BACF,OAAO,CAAC,IAAI,CAAC,CAAC;wBAClB,CAAC,CAAC,CAAC,KAAK,CAAC;4BACL,OAAO,CAAC,KAAK,CAAC,CAAC;wBACnB,CAAC,CAAC,CAAC;oBACX,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,OAAO,CAAC,KAAK,CAAC,CAAC;oBACnB,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,OAAO,CAAC,KAAK,CAAC,CAAC;gBACnB,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QACL,mBAAC;IAAD,CAzDA,AAyDC,IAAA;IAzDY,oCAAY","file":"phoneService.js","sourcesContent":["import {IPhoneService} from \"../IPhoneService\";\n\nexport class PhoneService implements IPhoneService {\n\n    private _appModel: any;\n\n    constructor() {\n        if (window.Windows && window.Windows.ApplicationModel) {\n            this._appModel = window.Windows.ApplicationModel;\n        }\n    }\n\n    public hasPhone(): Promise<boolean> {\n        return Promise.resolve(!!this._appModel.Calls.PhoneCallManager);\n    }\n\n    public showPhoneCallUI(phone: string, name?: string): Promise<boolean> {\n        return new Promise<boolean>((resolve, reject) => {\n            if (this._appModel) {\n                if (this._appModel.Calls && this._appModel.Calls.PhoneCallManager) {\n                    try {\n                        this._appModel.Calls.PhoneCallManager.showPhoneCallUI(phone, name);\n                        resolve(true);\n                    } catch (err) {\n                        resolve(false);\n                    }\n                } else {\n                    resolve(false);\n                }\n            } else {\n                resolve(false);\n            }\n        });\n    }\n    public showPhoneSMSUI(recipientsPhone: string[], message: string): Promise<boolean> {\n        return new Promise<boolean>((resolve, reject) => {\n            if (this._appModel) {\n                if (this._appModel.Chat &&\n                    this._appModel.Chat.ChatMessage &&\n                    this._appModel.Chat.ChatMessageManager) {\n                    let chatMessage: any = new this._appModel.Chat.ChatMessage();\n                    chatMessage.body = message;\n                    for (let i: number = 0; i < recipientsPhone.length; i++) {\n                        chatMessage.recipients.push(recipientsPhone[i]);\n                    }\n                    this._appModel.Chat.ChatMessageManager.showComposeSmsMessageAsync(chatMessage)\n                        .then(() => {\n                            resolve(true);\n                        }).catch(() => {\n                            resolve(false);\n                        });\n                } else {\n                    resolve(false);\n                }\n            } else {\n                resolve(false);\n            }\n        });\n    }\n}\n"],"sourceRoot":"../../../.."}