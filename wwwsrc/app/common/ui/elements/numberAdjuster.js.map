{"version":3,"sources":["common/ui/elements/numberAdjuster.ts"],"names":[],"mappings":"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","file":"numberAdjuster.js","sourcesContent":["import {bindable, customElement} from \"aurelia-templating\";\nimport {inject} from \"aurelia-dependency-injection\";\nimport {bindingMode, computedFrom} from \"aurelia-binding\";\nimport {StringHelper} from \"../../core/stringHelper\";\n\n@customElement(\"number-adjuster\")\n@inject(Element)\nexport class NumberAdjuster {\n    @bindable({defaultBindingMode: bindingMode.twoWay})\n    public value: number;\n\n    @bindable({defaultBindingMode: bindingMode.twoWay})\n    public maxValue: number;\n\n    @bindable({defaultBindingMode: bindingMode.twoWay})\n    public minValue: number;\n\n    @bindable({defaultBindingMode: bindingMode.oneTime})\n    public showMax: boolean;\n\n    @bindable({defaultBindingMode: bindingMode.oneTime})\n    public showMissingItemLabel: boolean;\n\n    @bindable({defaultBindingMode: bindingMode.oneTime})\n    public disabled: boolean;\n\n    public increment(): void {\n\n        if (this.disableMax) {\n            return;\n        }\n\n        if (this.disabled) {\n            return;\n        }\n\n        if (this.value < this.maxValue) {\n            this.value++;\n        }\n    }\n\n    public decrement(): void {\n\n        if (this.disableMin) {\n            return;\n        }\n\n        if (this.disabled) {\n            return;\n        }\n\n        if (this.value) {\n            this.value--;\n        }\n    }\n\n    @computedFrom(\"value\", \"maxValue\", \"showMax\")\n    public get disableMax(): boolean {\n        if (this.disabled) {\n            return true;\n        }\n\n        return this.value === this.maxValue;\n    }\n\n    @computedFrom(\"value\", \"minValue\", \"showMax\")\n    public get disableMin(): boolean {\n\n        if (this.disabled) {\n            return true;\n        }\n\n        if (this.value === 0) {\n            return true;\n        }\n\n        return this.value === this.minValue;\n    }\n\n    @computedFrom(\"value\", \"maxValue\", \"showMax\")\n    public get displayValue(): string {\n\n        return `${this.value} ${this.showMax ? ` of  ${this.maxValue}` : \"\"}`;\n\n    }\n\n    @computedFrom(\"value\", \"maxValue\", \"minValue\")\n    public get missingItemLabel(): string {\n\n        if (this.disabled) {\n            return \"\";\n        }\n\n        if (!this.showMissingItemLabel) {\n            return \"\";\n        }\n\n        if (this.value === undefined) {\n            return \"\";\n        }\n\n        if (this.value === this.maxValue) {\n            return \"\";\n        }\n\n        const missingQty = this.maxValue - this.value;\n        return `Missing ${StringHelper.pluralise(missingQty, \"item\")}`;\n    }\n\n}\n"],"sourceRoot":"../../.."}