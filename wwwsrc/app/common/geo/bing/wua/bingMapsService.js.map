{"version":3,"sources":["common/geo/bing/wua/bingMapsService.ts"],"names":[],"mappings":"AAAA,wDAAwD;;;;IAKxD;QAAA;QA2CA,CAAC;QA1CU,mCAAS,GAAhB,UAAiB,QAA8B;YAC3C,MAAM,CAAC,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,MAAM;gBACrC,IAAI,GAAG,GAAW,YAAY,CAAC;gBAE/B,EAAE,CAAC,CAAC,QAAQ,YAAY,yBAAW,CAAC,CAAC,CAAC;oBAClC,IAAI,SAAS,GAA6B,QAAQ,CAAC;oBACnD,GAAG,IAAI,KAAK,GAAG,SAAS,CAAC,QAAQ,GAAG,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC;gBAClE,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,GAAG,IAAI,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,CAAC,CAAC;gBACnD,CAAC;gBAED,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtF,OAAO,EAAE,CAAC;YACd,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,0CAAgB,GAAvB,UAAwB,MAA4B,EAAE,WAAiC;YACnF,MAAM,CAAC,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,MAAM;gBACrC,IAAI,GAAG,GAAW,gBAAgB,CAAC;gBAEnC,EAAE,CAAC,CAAC,MAAM,YAAY,yBAAW,CAAC,CAAC,CAAC;oBAChC,IAAI,SAAS,GAA6B,MAAM,CAAC;oBACjD,GAAG,IAAI,MAAM,GAAG,SAAS,CAAC,QAAQ,GAAG,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC;gBACnE,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,GAAG,IAAI,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC;gBAC/C,CAAC;gBAED,GAAG,IAAI,GAAG,CAAC;gBAEX,EAAE,CAAC,CAAC,WAAW,YAAY,yBAAW,CAAC,CAAC,CAAC;oBACrC,IAAI,aAAa,GAA6B,WAAW,CAAC;oBAC1D,GAAG,IAAI,MAAM,GAAG,aAAa,CAAC,QAAQ,GAAG,GAAG,GAAG,aAAa,CAAC,SAAS,CAAC;gBAC3E,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,GAAG,IAAI,MAAM,GAAG,kBAAkB,CAAC,WAAW,CAAC,CAAC;gBACpD,CAAC;gBAED,GAAG,IAAI,SAAS,CAAC;gBAEjB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtF,OAAO,EAAE,CAAC;YACd,CAAC,CAAC,CAAC;QACP,CAAC;QACL,sBAAC;IAAD,CA3CA,AA2CC,IAAA;IA3CY,0CAAe","file":"bingMapsService.js","sourcesContent":["/// <reference path=\"../../../../../typings/app.d.ts\" />\n\nimport {GeoPosition} from \"../../../geo/models/geoPosition\";\nimport {IBingMapsService} from \"../IBingMapsService\";\n\nexport class BingMapsService implements IBingMapsService {\n    public launchMap(location: string | GeoPosition): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            let uri: string = \"bingmaps:?\";\n\n            if (location instanceof GeoPosition) {\n                let originGeo: GeoPosition = <GeoPosition>location;\n                uri += \"cp=\" + originGeo.latitude + \"~\" + originGeo.longitude;\n            } else {\n                uri += \"where=\" + encodeURIComponent(location);\n            }\n\n            window.Windows.System.Launcher.launchUriAsync(new window.Windows.Foundation.Uri(uri));\n            resolve();\n        });\n    }\n\n    public launchDirections(origin: string | GeoPosition, destination: string | GeoPosition): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            let uri: string = \"bingmaps:?rtp=\";\n\n            if (origin instanceof GeoPosition) {\n                let originGeo: GeoPosition = <GeoPosition>origin;\n                uri += \"pos.\" + originGeo.latitude + \"_\" + originGeo.longitude;\n            } else {\n                uri += \"adr.\" + encodeURIComponent(origin);\n            }\n\n            uri += \"~\";\n\n            if (destination instanceof GeoPosition) {\n                let desinationGeo: GeoPosition = <GeoPosition>destination;\n                uri += \"pos.\" + desinationGeo.latitude + \"_\" + desinationGeo.longitude;\n            } else {\n                uri += \"adr.\" + encodeURIComponent(destination);\n            }\n\n            uri += \"&mode=d\";\n\n            window.Windows.System.Launcher.launchUriAsync(new window.Windows.Foundation.Uri(uri));\n            resolve();\n        });\n    }\n}\n"],"sourceRoot":"../../../.."}