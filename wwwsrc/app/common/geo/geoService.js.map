{"version":3,"sources":["common/geo/geoService.ts"],"names":[],"mappings":"AAAA,kDAAkD;;;;;;;;;;;;;;IAOlD;QAAgC,8BAAgC;QAI5D;YAAA,YACI,kBAAM,YAAY,EAAE,YAAY,CAAC,SAEpC;YADG,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;;QACrB,CAAC;QAEM,oCAAe,GAAtB,UAAuB,MAA4B,EAAE,WAAiC;YAAtF,iBAWC;YAVG,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACzC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACxB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACjC,CAAC;YAED,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,MAAM;gBACjC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBAChF,MAAM,CAAC,GAAG,CAAC;gBACf,CAAC,CAAC,CAAC;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,8BAAS,GAAhB,UAAiB,QAA8B;YAC3C,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,MAAM;gBAChC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,qCAAgB,GAAvB,UAAwB,MAA4B,EAAE,WAAiC;YACnF,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,MAAM;gBAChC,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,mCAAc,GAArB,UAAsB,OAAe;YAArC,iBAWC;YAVG,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACzC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACxB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACjC,CAAC;YAED,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAA,MAAM;gBACjC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACnE,MAAM,CAAC,GAAG,CAAC;gBACf,CAAC,CAAC,CAAC;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QACL,iBAAC;IAAD,CA9CA,AA8CC,CA9C+B,yCAAmB,GA8ClD;IA9CY,gCAAU","file":"geoService.js","sourcesContent":["/// <reference path=\"../../../typings/app.d.ts\" />\n\nimport {DistanceTime} from \"../geo/models/distanceTime\";\nimport {IGeoService} from \"./IGeoService\";\nimport { GeoPosition } from \"./models/geoPosition\";\nimport {PlatformServiceBase} from \"../core/platformServiceBase\";\n\nexport class GeoService extends PlatformServiceBase<IGeoService> implements IGeoService {\n\n    private _cache: { [hash: string ]: Promise<any> };\n\n    constructor() {\n        super(\"common/geo\", \"GeoService\");\n        this._cache = {};\n    }\n\n    public getDistanceTime(origin: string | GeoPosition, destination: string | GeoPosition): Promise<DistanceTime> {\n        let argsHash = JSON.stringify(arguments);\n        if (this._cache[argsHash]) {\n            return this._cache[argsHash];\n        }\n\n        return this.loadModule().then(module => {\n           return this._cache[argsHash] = module.getDistanceTime(origin, destination).then((res) => {\n               return res;\n           });\n        });\n    }\n\n    public launchMap(location: string | GeoPosition): Promise<void> {\n        return this.loadModule().then(module => {\n            return module.launchMap(location);\n        });\n    }\n\n    public launchDirections(origin: string | GeoPosition, destination: string | GeoPosition): Promise<void> {\n        return this.loadModule().then(module => {\n            return module.launchDirections(origin, destination);\n        });\n    }\n\n    public getGeoPosition(address: string): Promise<GeoPosition> {\n        let argsHash = JSON.stringify(arguments);\n        if (this._cache[argsHash]) {\n            return this._cache[argsHash];\n        }\n\n        return this.loadModule().then(module => {\n           return this._cache[argsHash] = module.getGeoPosition(address).then((res) => {\n               return res;\n           });\n        });\n    }\n}\n"],"sourceRoot":"../.."}